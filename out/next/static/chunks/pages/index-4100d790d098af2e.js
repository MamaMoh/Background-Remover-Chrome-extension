(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8640)}])},8640:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(5893),n=a(7294),o=a(6467),i=a.n(o),l=a(2339),r=a(5093),u=a(1163),c=a(3454);c.env.REPLICATE_API_TOKEN,c.env.REPLICATE_MODEL_VERSION;let _=(0,r.Uploader)({apiKey:c.env.NEXT_PUBLIC_UPLOAD_API_TOKEN?c.env.NEXT_PUBLIC_UPLOAD_API_TOKEN:"free"}),d={apiKey:"free",maxFileCount:1},p=e=>{let{navigateToPage:t}=e,[a,o]=(0,n.useState)(!1),[r,c]=(0,n.useState)(null),[p,g]=(0,n.useState)(null),[h,f]=(0,n.useState)(null),[m,w]=(0,n.useState)(null),[P,T]=(0,n.useState)(!1),[N,U]=(0,n.useState)(void 0),[b,S]=(0,n.useState)(!1),[j,v]=(0,n.useState)(!0),[x,E]=(0,n.useState)(""),k=(0,u.useRouter)();(0,n.useEffect)(()=>{let e=localStorage.getItem("apiToken");E(e)},[]);let y=async e=>{console.log("file to be sent:",x);let t=Date.now();U(void 0),T(!0);let a=await fetch("https://api.replicate.com/v1/predictions",{method:"POST",headers:{Authorization:"Token r8_U8kB5Dpqh1pztXL9ae6GTbhUolbWznK0URxyF","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({version:"fb8af171cfa1616ddcf1242c093f9c46bcada5ad4cf6f2fbe8b81b330ec5c003",input:{imageUrl:e}})}),s=await a.json();if(201!==a.status){c(s.detail),T(!1);return}for(w(s);"succeeded"!==s.status&&"failed"!==s.status;){let e=await fetch("https://api.replicate.com/v1/predictions/"+s.id,{headers:{Authorization:"Token r8_U8kB5Dpqh1pztXL9ae6GTbhUolbWznK0URxyF","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"no-cors"});if(s=await e.json(),200!==e.status){c(s.detail),T(!1);return}w(s)}console.log("API Response:",s),"failed"===s.status&&c(!0),("succeeded"===s.status||"failed"===s.status)&&T(!1);let n=Date.now();U((n-t)/1e3),localStorage.setItem("resultImageUrl",s.output),k.push({pathname:"/New",query:{imageUrl:s.output}})},C=e=>{v(!1),e>=4?window.open("https://www.google.com","_blank"):window.open("https://www.youtube.com/hashtag/funnyvideo","_blank")};return(0,s.jsx)("div",{className:i().container,children:(0,s.jsxs)("main",{className:i().main,children:[(0,s.jsx)("h1",{className:i().title,children:"Background Remover"}),(0,s.jsx)("p",{className:i().description,children:"This is AI that removes the background any image for you!"}),(0,s.jsx)(l.UploadButton,{uploader:_,options:d,onComplete:e=>{0!==e.length&&(g(e[0].originalFile.originalFileName),f(e[0].fileUrl.replace("raw","thumbnail")),y(e[0].fileUrl.replace("raw","thumbnail")))},children:e=>{let{onClick:t}=e;return(0,s.jsx)("button",{className:i().uploadButton,onClick:t,disabled:a,children:a?"Uploading...":"click to remove"})}}),r&&(0,s.jsx)("p",{className:i().error,children:r}),j&&(0,s.jsxs)("div",{className:i().rateUs,children:[(0,s.jsx)("h2",{className:i().rateUsTitle,children:"Rate Us:"}),(0,s.jsx)("div",{className:i().stars,children:[1,2,3,4,5].map(e=>(0,s.jsx)("span",{onClick:()=>C(e),className:i().star,children:"⭐️"},e))})]})]})})};function g(){let[e,t]=(0,n.useState)("index"),a=e=>{t(e)};return(0,s.jsx)(s.Fragment,{children:"index"===e&&(0,s.jsx)(p,{navigateToPage:a})})}},6467:function(e){e.exports={container:"Pages_container__SbWhT",main:"Pages_main__5_Vsf",title:"Pages_title__5_zk8",description:"Pages_description__Vsj9E",code:"Pages_code__vzNOX",rateUs:"Pages_rateUs__a0VgZ",rateUsTitle:"Pages_rateUsTitle__y_FNp",stars:"Pages_stars__SLMR1",star:"Pages_star__m7e3F",uploadButton:"Pages_uploadButton__wyTj8",resultContainer:"Pages_resultContainer__Tdd_c",resultTitle:"Pages_resultTitle___c8th",resultImage:"Pages_resultImage__YR_Hf",fullScreenButton:"Pages_fullScreenButton__n01qB",downloadButton:"Pages_downloadButton__dfF9w",loadingSpinner:"Pages_loadingSpinner__uWwbd",spin:"Pages_spin__Dz3rY"}}},function(e){e.O(0,[510,883,736,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);