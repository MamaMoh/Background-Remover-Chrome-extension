(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8640)}])},5132:function(e,t,a){"use strict";var s=a(5893);a(7294);var n=a(6467),l=a.n(n);let o=e=>{let{imageUrl:t}=e,a=async()=>{try{let e=await fetch(t),a=await e.blob(),s=window.URL.createObjectURL(new Blob([a])),n=document.createElement("a");n.href=s,n.setAttribute("download","background_removed_image.png"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(e){console.error("Error downloading image:",e)}};return(0,s.jsx)("button",{className:l().downloadButton,onClick:a,children:"Download Result"})};t.Z=o},8640:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(5893),n=a(7294),l=a(6467),o=a.n(l),i=a(2339),r=a(5093),u=a(1163),c=a(5132),d=a(3454);d.env.REPLICATE_API_TOKEN,d.env.REPLICATE_MODEL_VERSION;let _=(0,r.Uploader)({apiKey:d.env.NEXT_PUBLIC_UPLOAD_API_TOKEN?d.env.NEXT_PUBLIC_UPLOAD_API_TOKEN:"free"}),m={apiKey:"free",maxFileCount:1},g=e=>{let{navigateToPage:t}=e,[a,l]=(0,n.useState)(!1),[r,d]=(0,n.useState)(null),[g,p]=(0,n.useState)(null),[h,w]=(0,n.useState)(null),[f,N]=(0,n.useState)(null),[P,j]=(0,n.useState)(!1),[T,v]=(0,n.useState)(void 0),[b,x]=(0,n.useState)(!1),[S,k]=(0,n.useState)(!0),[U,y]=(0,n.useState)("");(0,u.useRouter)(),(0,n.useEffect)(()=>{let e=localStorage.getItem("apiToken");y(e)},[]);let E=async e=>{console.log("file to be sent:",U);let t=Date.now();v(void 0),j(!0),l(!1);let a=await fetch("api/remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requestBody:{apiToken:U,imageUrl:e}})}),s=await a.json();if(201!==a.status){d(s.detail),j(!1);return}for(N(s);"succeeded"!==s.status&&"failed"!==s.status;){let e=await fetch("api/remove/"+s.id,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiToken:U})});if(s=await e.json(),200!==e.status){d(s.detail),j(!1);return}N(s)}console.log("API Response:",s),"failed"===s.status&&d(!0),("succeeded"===s.status||"failed"===s.status)&&j(!1);let n=Date.now();v((n-t)/1e3),N(s.output),j(!1),localStorage.setItem("resultImageUrl",s.output)},C=e=>{k(!1),e>=4?window.open("https://www.google.com","_blank"):window.open("https://www.youtube.com/hashtag/funnyvideo","_blank")};return(0,s.jsx)("div",{className:o().container,children:(0,s.jsxs)("main",{className:o().main,children:[!f&&(0,s.jsx)("h1",{className:o().title,children:"Background Remover"}),!f&&(0,s.jsx)("p",{className:o().description,children:"This is AI that removes the background any image for you!"}),!f&&(0,s.jsx)(i.UploadButton,{uploader:_,options:m,onComplete:e=>{0!==e.length&&(p(e[0].originalFile.originalFileName),w(e[0].fileUrl.replace("raw","thumbnail")),E(e[0].fileUrl.replace("raw","thumbnail")))},children:e=>{let{onClick:t}=e;return(0,s.jsx)("button",{className:o().uploadButton,onClick:t,disabled:a,children:a?"Uploading...":"click to remove"})}}),P&&(0,s.jsx)("div",{className:o().loading,children:"Loading..."}),r&&(0,s.jsx)("div",{className:o().error,children:r}),f&&(0,s.jsxs)("div",{className:o().resultContainer,children:[(0,s.jsx)("h2",{className:o().resultTitle,children:"Result:"}),(0,s.jsx)("img",{src:f,alt:"Background Removed",className:o().resultImage}),(0,s.jsx)("button",{className:o().fullScreenButton,onClick:()=>window.open(f,"_blank"),children:"View Full Screen"}),(0,s.jsx)(c.Z,{imageUrl:f})]}),S&&!f&&(0,s.jsxs)("div",{className:o().rateUs,children:[(0,s.jsx)("h2",{className:o().rateUsTitle,children:"Rate Us:"}),(0,s.jsx)("div",{className:o().stars,children:[1,2,3,4,5].map(e=>(0,s.jsx)("span",{onClick:()=>C(e),className:o().star,children:"⭐️"},e))})]})]})})};function p(){let[e,t]=(0,n.useState)("index"),a=e=>{t(e)};return(0,s.jsx)(s.Fragment,{children:"index"===e&&(0,s.jsx)(g,{navigateToPage:a})})}},6467:function(e){e.exports={container:"Pages_container__SbWhT",main:"Pages_main__5_Vsf",title:"Pages_title__5_zk8",description:"Pages_description__Vsj9E",code:"Pages_code__vzNOX",rateUs:"Pages_rateUs__a0VgZ",rateUsTitle:"Pages_rateUsTitle__y_FNp",stars:"Pages_stars__SLMR1",star:"Pages_star__m7e3F",uploadButton:"Pages_uploadButton__wyTj8",resultContainer:"Pages_resultContainer__Tdd_c",resultTitle:"Pages_resultTitle___c8th",resultImage:"Pages_resultImage__YR_Hf",fullScreenButton:"Pages_fullScreenButton__n01qB",downloadButton:"Pages_downloadButton__dfF9w",spin:"Pages_spin__Dz3rY"}}},function(e){e.O(0,[510,883,736,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);