(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{6570:function(t){!function(){"use strict";var e,n,r,o,i,u,c,a,l,s,f,p,d,h,y={};y.d=function(t,e){for(var n in e)y.o(e,n)&&!y.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},y.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},y.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var v={};function _(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function m(){}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b(e)?e:e+""}(r.key),r)}}y.r(v),y.d(v,{AuthManager:function(){return ed},BaseAPI:function(){return z},BinaryResult:function(){return X},BytescaleApiClientConfigUtils:function(){return H},BytescaleApiError:function(){return K},BytescaleGenericError:function(){return J},CacheApi:function(){return ti},CancelledError:function(){return V},CommonTypesNoOp:function(){return tR},FileApi:function(){return tp},FolderApi:function(){return tb},JSONApiResponse:function(){return Q},JobApi:function(){return tO},UploadApi:function(){return tU},UploadManager:function(){return et},UrlBuilder:function(){return tD},UrlBuilderTypesNoOp:function(){return tL},VoidApiResponse:function(){return Y},encodeBytescaleQuerystringKVP:function(){return G},querystring:function(){return $}});var P=(e=function t(){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),this.locked=!1,this.queue=[]},n=[{key:"safe",value:function(t){try{var e=this;return _(e.lock(),function(){return function(t,e){try{var n=t()}catch(t){return e(!0,t)}return n&&n.then?n.then(e.bind(null,!1),e.bind(null,!0)):e(!1,n)}(t,function(t,n){return e.unlock(),function(t,e){if(t)throw e;return e}(t,n)})})}catch(t){return Promise.reject(t)}}},{key:"lock",value:function(){try{var t,e,n=this;return _((t=function(t){n.locked=!0},(e=function(){if(n.locked){var t,e=new Promise(function(e){t=e});if(void 0===t)throw Error("unlockNext was undefined");return n.queue.push({resolve:t}),e&&e.then?e.then(m):Promise.resolve()}}())&&e.then?e.then(t):t(e)))}catch(t){return Promise.reject(t)}}},{key:"unlock",value:function(){if(!this.locked)throw Error("Mutex is not locked.");var t=this.queue.shift();void 0!==t?t.resolve():this.locked=!1}}],g(e.prototype,n),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var S=function(){var t;function e(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e)}return t=[{key:"getMutex",value:function(){var t=e.mutexKey,n=window[t];return void 0===n&&(n=new P,window[t]=n),n}},{key:"setSession",value:function(t){window[e.stateKey]=t}},{key:"getSession",value:function(){if("undefined"!=typeof window)return window[e.stateKey]}}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=w(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}(r.key),r)}}(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}();function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}S.stateKey="BytescaleSessionState",S.mutexKey="BytescaleSessionStateMutex";var k=function(){var t;function e(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,e)}return t=[{key:"debug",value:function(t){console.log(e.prefix(t))}},{key:"warn",value:function(t){console.warn(e.prefix(t))}},{key:"error",value:function(t){console.error(e.prefix(t))}},{key:"prefix",value:function(t){return"[bytescale-sdk] ".concat(t)}}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=j(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==j(e)?e:e+""}(r.key),r)}}(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}();function O(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function T(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function E(){}function I(t,e){return t&&t.then?t.then(e):e(t)}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function U(t,e,n){return e=W(e),function(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,N()?Reflect.construct(e,n||[],W(t).constructor):e.apply(t,n))}function R(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}function F(t){var e="function"==typeof Map?new Map:void 0;return(F=function(t){if(null===t||!function(t){try{return -1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(N())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&M(o,n.prototype),o}(t,arguments,W(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),M(n,t)})(t)}function N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(N=function(){return!!t})()}function M(t,e){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function D(t,e,n){return e&&B(t.prototype,e),n&&B(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L(t){var e=function(t,e){if("object"!=A(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=A(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A(e)?e:e+""}var H=function(){function t(){q(this,t)}return D(t,null,[{key:"getApiUrl",value:function(e){var n;return null!==(n=e.apiUrl)&&void 0!==n?n:t.defaultApiUrl}},{key:"getCdnUrl",value:function(e){var n;return null!==(n=e.cdnUrl)&&void 0!==n?n:t.defaultCdnUrl}},{key:"getFetchApi",value:function(t){var e;return null!==(e=t.fetchApi)&&void 0!==e?e:fetch}},{key:"getAccountId",value:function(e){var n,r,o;if(t.specialApiKeys.includes(e.apiKey))o=t.specialApiKeyAccountId;else if((o=null!==(r=null===(n=e.apiKey.split("_")[1])||void 0===n?void 0:n.substr(0,t.accountIdLength))&&void 0!==r?r:"").length!==t.accountIdLength)throw Error("Invalid Bytescale API key.");return o}},{key:"validate",value:function(e){var n;if((null!=e?e:void 0)===void 0)throw Error("Config parameter required.");if((null!==(n=e.apiKey)&&void 0!==n?n:void 0)===void 0)throw Error("Please provide an API key via the 'apiKey' config parameter.");if(e.apiKey.trim()!==e.apiKey)throw Error("API key needs trimming (whitespace detected).");t.getAccountId(e)}}])}();H.defaultApiUrl="https://api.bytescale.com",H.defaultCdnUrl="https://upcdn.io",H.specialApiKeys=["free","demo"],H.specialApiKeyAccountId="W142hJk",H.accountIdLength=7;var z=function(){function t(e){q(this,t),this.config=e,H.validate(e)}return D(t,[{key:"request",value:function(e,n,r){try{var o,i,u,c,a=this,l=a.config.apiKey;e.headers.Authorization="Bearer ".concat(l);var s=S.getSession();(null==s?void 0:s.accessToken)!==void 0&&(e.headers["Authorization-Token"]=s.accessToken);var f=(o={},i=H.defaultCdnUrl,u=H.getCdnUrl(a.config),(i=L(i))in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,o);return O(a.createFetchParams(e,n,void 0===r?void 0:null!==(c=f[r])&&void 0!==c?c:r),function(e){var n=e.url,r=e.init;return t.fetch(n,r,Object.assign(Object.assign({},a.config),{isBytescaleApi:!0}))})}catch(t){return Promise.reject(t)}}},{key:"encodeParam",value:function(t,e){if("filePath"===t){if(!e.startsWith("/"))throw Error("The 'filePath' parameter must begin with a '/' character.");return e}return encodeURIComponent(e)}},{key:"createFetchParams",value:function(t,e,n){try{var r=(null!=n?n:H.getApiUrl(this.config))+t.path;void 0!==t.query&&0!==Object.keys(t.query).length&&(r+="?"+$(t.query));var o=this.config.headers,i=Object.assign({},t.headers);return O(O(void 0===o?{}:"function"==typeof o?o():o,function(n){var o=Object.assign(i,n);Object.keys(o).forEach(function(t){return void 0===o[t]?delete o[t]:{}});var u={method:t.method,headers:o,body:t.body},c=Object.assign({},u);return O(("function"==typeof e?e:function(){return O(e)})({init:u,context:t}),function(t){var e=Object.assign(c,t),n=Object.assign(Object.assign({},e),{body:JSON.stringify(e.body)});return{url:r,init:n}})},void 0===o||"function"!=typeof o))}catch(t){return Promise.reject(t)}}}],[{key:"fetch",value:function(t,e,n){try{var r,o,i;return O(I(T(function(){return O(H.getFetchApi(n)(t,Object.assign(Object.assign({},e),{cache:"no-store"})),function(t){i=t})},function(e){throw Error(n.isBytescaleApi?"Unable to resolve the Bytescale API: ".concat(e.message," If the problem persists, and your network connection is OK, then please contact support@bytescale.com and provide: (a) time of failed request in UTC (b) screenshot of failed network response header + body (c) screenshot of failed network request header + body (d) browser and OS version."):"Unable to resolve URL (".concat(t,"): ").concat(e.message))}),function(u){var c,a;return i.status>=200&&i.status<300?i:(c=function(n){throw Error("Failure status code (".concat(i.status,") received for request: ").concat(null!==(o=e.method)&&void 0!==o?o:"GET"," ").concat(t))},(a=function(){if(n.isBytescaleApi){var t=void 0,e=void 0;return I(T(function(){return O(i.text(),function(n){t=n,e=JSON.parse(t)})},E),function(){if("string"==typeof(null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.code))throw new K(e);throw!0===n.debug&&(k.debug("Error response header:"),i.headers.forEach(function(t,e){return k.debug("".concat(e,": ").concat(t))}),k.debug("Error response body:"),k.debug(null!=t?t:"<empty>")),new J(i,t,e)})}}())&&a.then?a.then(c):c(a))}))}catch(t){return Promise.reject(t)}}}])}(),V=function(t){function e(){var t;return q(this,e),(t=U(this,e,["Operation cancelled by caller."])).name="CancelledError",t}return R(e,t),D(e)}(F(Error)),J=function(t){function e(t,n,r){var o;return q(this,e),(o=U(this,e,["Unable to connect to the Bytescale API (".concat(t.status,"): please try again.")])).response=t,o.responseText=n,o.responseJson=r,o.name="BytescaleGenericError",o}return R(e,t),D(e)}(F(Error)),K=function(t){function e(t){var n;return q(this,e),(n=U(this,e,[t.error.message])).name="BytescaleApiError",n.errorCode=t.error.code,n.details=t.error.details,n}return R(e,t),D(e)}(F(Error));function $(t){var e,n;return(e=Object.keys(t),n="artifact",[].concat(C(e.filter(function(t){return t!==n})),C(e.filter(function(t){return t===n})))).map(function(e){var n;return(n=t[e])instanceof Object?$(n):G(e,String(n))}).filter(function(t){return t.length>0}).join("&")}function G(t,e){return"a"===t||"artifact"===t?"".concat(t,"=").concat(encodeURIComponent(e).replace(/%2F/g,"/")):"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))}var Q=D(function t(e){q(this,t),this.raw=e},[{key:"value",value:function(){try{return O(this.raw.json())}catch(t){return Promise.reject(t)}}}]),Y=D(function t(e){q(this,t),this.raw=e},[{key:"value",value:function(){return O(void 0)}}]),X=D(function t(e){q(this,t),this.raw=e},[{key:"stream",value:function(){if(this.raw.bodyUsed)throw Error("Response body has already been consumed.");if(null===this.raw.body)throw Error("Response body does not exist.");return this.raw.body}},{key:"text",value:function(){try{return O(this.raw.text())}catch(t){return Promise.reject(t)}}},{key:"blob",value:function(){try{return O(this.raw.blob())}catch(t){return Promise.reject(t)}}},{key:"json",value:function(){try{return O(this.raw.json())}catch(t){return Promise.reject(t)}}}]);function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=Z(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Z(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Z(e)?e:e+""}(r.key),r)}}function tn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tn=function(){return!!t})()}function tr(t){return(tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function to(t,e){return(to=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var ti=function(t){var e,n;function r(){var t,e;return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),t=r,e=arguments,t=tr(t),function(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,tn()?Reflect.construct(t,e||[],tr(this).constructor):t.apply(this,e))}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&to(t,e)}(r,t),e=[{key:"resetCache",value:function(t){try{var e={};return e["Content-Type"]="application/json",tt(this.request({path:"/v2/accounts/{accountId}/cache/reset".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"POST",headers:e,query:{},body:t.resetCacheRequest},void 0,[][0]),function(t){return tt(new Q(t).value())})}catch(t){return Promise.reject(t)}}}],te(r.prototype,e),n&&te(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(z);function tu(t){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tc(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=tu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tu(e)?e:e+""}(r.key),r)}}function tl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tl=function(){return!!t})()}function ts(t){return(ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tf(t,e){return(tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var tp=function(t){var e,n;function r(){var t,e;return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),t=r,e=arguments,t=ts(t),function(t,e){if(e&&("object"===tu(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,tl()?Reflect.construct(t,e||[],ts(this).constructor):t.apply(this,e))}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tf(t,e)}(r,t),e=[{key:"copyFile",value:function(t){try{var e={};return e["Content-Type"]="application/json",tc(this.request({path:"/v2/accounts/{accountId}/files/copy".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"POST",headers:e,query:{},body:t.copyFileRequest},void 0,[][0]),function(t){return tc(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"copyFileBatch",value:function(t){try{var e={};return e["Content-Type"]="application/json",tc(this.request({path:"/v2/accounts/{accountId}/files/copy/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"POST",headers:e,query:{},body:t.copyFileBatchRequest},void 0,[][0]),function(t){return tc(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"deleteFile",value:function(t){try{var e={};return void 0!==t.filePath&&(e.filePath=t.filePath),tc(this.request({path:"/v2/accounts/{accountId}/files".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"DELETE",headers:{},query:e},void 0,[][0]),function(t){return tc(new Y(t).value())})}catch(t){return Promise.reject(t)}}},{key:"deleteFileBatch",value:function(t){try{var e={};return e["Content-Type"]="application/json",tc(this.request({path:"/v2/accounts/{accountId}/files/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"DELETE",headers:e,query:{},body:t.deleteFileBatchRequest},void 0,[][0]),function(t){return tc(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"downloadFile",value:function(t){try{var e={};return void 0!==t.cache&&(e.cache=t.cache),void 0!==t.cacheTtl&&(e.cache_ttl=t.cacheTtl),void 0!==t.cacheTtlNotFound&&(e.cache_ttl_not_found=t.cacheTtlNotFound),void 0!==t.version&&(e.version=t.version),tc(this.request({path:"/{accountId}/raw{filePath}".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)).replace("{".concat("filePath","}"),this.encodeParam("filePath",t.filePath)),method:"GET",headers:{},query:e},void 0,"https://upcdn.io"),function(t){return new X(t)})}catch(t){return Promise.reject(t)}}},{key:"getFileDetails",value:function(t){try{var e={};return void 0!==t.filePath&&(e.filePath=t.filePath),tc(this.request({path:"/v2/accounts/{accountId}/files/details".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"GET",headers:{},query:e},void 0,[][0]),function(t){return tc(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"processFile",value:function(t){try{var e={};return void 0!==t.artifact&&(e.artifact=t.artifact),void 0!==t.cache&&(e.cache=t.cache),void 0!==t.cacheOnly&&(e.cache_only=t.cacheOnly),void 0!==t.cachePerm&&(e.cache_perm=t.cachePerm),void 0!==t.cacheTtl&&(e.cache_ttl=t.cacheTtl),void 0!==t.cacheTtlNotFound&&(e.cache_ttl_not_found=t.cacheTtlNotFound),void 0!==t.transformationParams&&(e.transformationParams=t.transformationParams),void 0!==t.version&&(e.version=t.version),tc(this.request({path:"/{accountId}/{transformation}{filePath}".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)).replace("{".concat("filePath","}"),this.encodeParam("filePath",t.filePath)).replace("{".concat("transformation","}"),this.encodeParam("transformation",t.transformation)),method:"GET",headers:{},query:e},void 0,"https://upcdn.io"),function(t){return new X(t)})}catch(t){return Promise.reject(t)}}},{key:"processFileAndSave",value:function(t){try{var e={};void 0!==t.transformationParams&&(e.transformationParams=t.transformationParams);var n={};return n["Content-Type"]="application/json",tc(this.request({path:"/{accountId}/save/{transformation}{filePath}".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)).replace("{".concat("filePath","}"),this.encodeParam("filePath",t.filePath)).replace("{".concat("transformation","}"),this.encodeParam("transformation",t.transformation)),method:"POST",headers:n,query:e,body:t.processFileAndSaveRequest},void 0,"https://upcdn.io"),function(t){return tc(new Q(t).value())})}catch(t){return Promise.reject(t)}}}],ta(r.prototype,e),n&&ta(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(z);function td(t){return(td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function th(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=td(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=td(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==td(e)?e:e+""}(r.key),r)}}function tv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tv=function(){return!!t})()}function t_(t){return(t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tm(t,e){return(tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var tb=function(t){var e,n;function r(){var t,e;return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),t=r,e=arguments,t=t_(t),function(t,e){if(e&&("object"===td(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,tv()?Reflect.construct(t,e||[],t_(this).constructor):t.apply(this,e))}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tm(t,e)}(r,t),e=[{key:"copyFolder",value:function(t){try{var e={};return e["Content-Type"]="application/json",th(this.request({path:"/v2/accounts/{accountId}/folders/copy".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"POST",headers:e,query:{},body:t.copyFolderRequest},void 0,[][0]),function(t){return th(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"copyFolderBatch",value:function(t){try{var e={};return e["Content-Type"]="application/json",th(this.request({path:"/v2/accounts/{accountId}/folders/copy/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"POST",headers:e,query:{},body:t.copyFolderBatchRequest},void 0,[][0]),function(t){return th(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"deleteFolder",value:function(t){try{var e={};return e["Content-Type"]="application/json",th(this.request({path:"/v2/accounts/{accountId}/folders".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"DELETE",headers:e,query:{},body:t.deleteFolderRequest},void 0,[][0]),function(t){return th(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"deleteFolderBatch",value:function(t){try{var e={};return e["Content-Type"]="application/json",th(this.request({path:"/v2/accounts/{accountId}/folders/batch".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"DELETE",headers:e,query:{},body:t.deleteFolderBatchRequest},void 0,[][0]),function(t){return th(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"getFolderDetails",value:function(t){try{var e={};return void 0!==t.folderPath&&(e.folderPath=t.folderPath),th(this.request({path:"/v2/accounts/{accountId}/folders".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"GET",headers:{},query:e},void 0,[][0]),function(t){return th(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"listFolder",value:function(t){try{var e={};return void 0!==t.cursor&&(e.cursor=t.cursor),void 0!==t.dryRun&&(e.dryRun=t.dryRun),void 0!==t.folderPath&&(e.folderPath=t.folderPath),void 0!==t.includeFiles&&(e.includeFiles=t.includeFiles),void 0!==t.includeOverriddenStorage&&(e.includeOverriddenStorage=t.includeOverriddenStorage),void 0!==t.includePhysicalFolders&&(e.includePhysicalFolders=t.includePhysicalFolders),void 0!==t.includeVirtualFolders&&(e.includeVirtualFolders=t.includeVirtualFolders),void 0!==t.limit&&(e.limit=t.limit),void 0!==t.recursive&&(e.recursive=t.recursive),th(this.request({path:"/v2/accounts/{accountId}/folders/list".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"GET",headers:{},query:e},void 0,[][0]),function(t){return th(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"putFolder",value:function(t){try{var e={};return e["Content-Type"]="application/json",th(this.request({path:"/v2/accounts/{accountId}/folders".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"PUT",headers:e,query:{},body:t.putFolderRequest},void 0,[][0]),function(t){return th(new Q(t).value())})}catch(t){return Promise.reject(t)}}}],ty(r.prototype,e),n&&ty(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(z);function tg(t){return(tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tP(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function tw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=tg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tg(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tg(e)?e:e+""}(r.key),r)}}function tS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tS=function(){return!!t})()}function tj(t){return(tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tk(t,e){return(tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var tO=function(t){var e,n;function r(){var t,e;return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),t=r,e=arguments,t=tj(t),function(t,e){if(e&&("object"===tg(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,tS()?Reflect.construct(t,e||[],tj(this).constructor):t.apply(this,e))}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}(r,t),e=[{key:"cancelJob",value:function(t){try{return tP(this.request({path:"/v2/accounts/{accountId}/jobs/{jobType}/{jobId}".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)).replace("{".concat("jobId","}"),this.encodeParam("jobId",t.jobId)).replace("{".concat("jobType","}"),this.encodeParam("jobType",t.jobType)),method:"DELETE",headers:{},query:{}},void 0,[][0]),function(t){return tP(new Y(t).value())})}catch(t){return Promise.reject(t)}}},{key:"getJob",value:function(t){try{return tP(this.request({path:"/v2/accounts/{accountId}/jobs/{jobType}/{jobId}".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)).replace("{".concat("jobId","}"),this.encodeParam("jobId",t.jobId)).replace("{".concat("jobType","}"),this.encodeParam("jobType",t.jobType)),method:"GET",headers:{},query:{}},void 0,[][0]),function(t){return tP(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"listRecentJobs",value:function(t){try{var e={};return t.jobType&&(e.jobType=t.jobType),tP(this.request({path:"/v2/accounts/{accountId}/jobs".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"GET",headers:{},query:e},void 0,[][0]),function(t){return tP(new Q(t).value())})}catch(t){return Promise.reject(t)}}}],tw(r.prototype,e),n&&tw(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(z);function tT(t){return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tE(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function tI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=tT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tT(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tT(e)?e:e+""}(r.key),r)}}function tA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tA=function(){return!!t})()}function tC(t){return(tC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tx(t,e){return(tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var tU=function(t){var e,n;function r(){var t,e;return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),t=r,e=arguments,t=tC(t),function(t,e){if(e&&("object"===tT(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,tA()?Reflect.construct(t,e||[],tC(this).constructor):t.apply(this,e))}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tx(t,e)}(r,t),e=[{key:"beginMultipartUpload",value:function(t){try{var e={};return e["Content-Type"]="application/json",tE(this.request({path:"/v2/accounts/{accountId}/uploads".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"POST",headers:e,query:{},body:t.beginMultipartUploadRequest},void 0,[][0]),function(t){return tE(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"completeUploadPart",value:function(t){try{var e={};return e["Content-Type"]="application/json",tE(this.request({path:"/v2/accounts/{accountId}/uploads/{uploadId}/parts/{uploadPartIndex}".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)).replace("{".concat("uploadId","}"),this.encodeParam("uploadId",t.uploadId)).replace("{".concat("uploadPartIndex","}"),this.encodeParam("uploadPartIndex",t.uploadPartIndex)),method:"PUT",headers:e,query:{},body:t.completeUploadPartRequest},void 0,[][0]),function(t){return tE(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"getUploadPart",value:function(t){try{return tE(this.request({path:"/v2/accounts/{accountId}/uploads/{uploadId}/parts/{uploadPartIndex}".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)).replace("{".concat("uploadId","}"),this.encodeParam("uploadId",t.uploadId)).replace("{".concat("uploadPartIndex","}"),this.encodeParam("uploadPartIndex",t.uploadPartIndex)),method:"GET",headers:{},query:{}},void 0,[][0]),function(t){return tE(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"listUploadParts",value:function(t){try{return tE(this.request({path:"/v2/accounts/{accountId}/uploads/{uploadId}/parts".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)).replace("{".concat("uploadId","}"),this.encodeParam("uploadId",t.uploadId)),method:"GET",headers:{},query:{}},void 0,[][0]),function(t){return tE(new Q(t).value())})}catch(t){return Promise.reject(t)}}},{key:"uploadFromUrl",value:function(t){try{var e={};return e["Content-Type"]="application/json",tE(this.request({path:"/v2/accounts/{accountId}/uploads/url".replace("{".concat("accountId","}"),this.encodeParam("accountId",t.accountId)),method:"POST",headers:e,query:{},body:t.uploadFromUrlRequest},void 0,[][0]),function(t){return tE(new Q(t).value())})}catch(t){return Promise.reject(t)}}}],tI(r.prototype,e),n&&tI(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(z),tR=!1;function tF(t){return void 0!==t[1]&&null!==t[1]}function tN(t){return(tN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,e)||tq(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tW(t){return function(t){if(Array.isArray(t))return tB(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||tq(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tq(t,e){if(t){if("string"==typeof t)return tB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tB(t,e)}}function tB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var tD=(o=function t(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,t)},i=[{key:"url",value:function(t){var e;return(null===(e=t.options)||void 0===e?void 0:e.transformation)===void 0?this.raw(t):this.transformation(t,t.options)}},{key:"raw",value:function(t){var e,n=this.getBaseUrl(t,"raw"),r=this.getCommonQueryParams(null!==(e=t.options)&&void 0!==e?e:{});return this.addQueryParams(n,r)}},{key:"transformation",value:function(t,e){var n,r=this.getBaseUrl(t,"preset"===e.transformation?e.transformationPreset:e.transformation),o="preset"===e.transformation?[]:this.getTransformationParams(e),i=this.getCommonQueryParams(null!==(n=t.options)&&void 0!==n?n:{}),u=this.getCommonTransformationQueryParams(e);return this.addQueryParams(r,[].concat(tW(o),tW(i),tW(u)))}},{key:"getBaseUrl",value:function(t,e){var n,r,o=null!==(r=null===(n=t.options)||void 0===n?void 0:n.cdnUrl)&&void 0!==r?r:H.defaultCdnUrl,i=encodeURIComponent(t.filePath).replace(/%2F/g,"/");return"".concat(o,"/").concat(t.accountId,"/").concat(e).concat(i)}},{key:"getCommonTransformationQueryParams",value:function(t){return this.makeQueryParams({cacheOnly:null,cachePermanently:null,artifact:null},{cacheOnly:"cache_only",cachePermanently:"cache_perm"})(t)}},{key:"getCommonQueryParams",value:function(t){return this.makeQueryParams({cache:null,cacheTtl:null,cacheTtlNotFound:null,version:null,forceDownloadPrompt:null},{cacheTtl:"cache_ttl",cacheTtlNotFound:"cache_ttl_not_found",forceDownloadPrompt:"download"})(t)}},{key:"makeQueryParams",value:function(t,e){return function(n){var r=[];return Object.keys(t).forEach(function(t){var o,i=n[t];void 0!==i&&r.push([null!==(o=e[t])&&void 0!==o?o:t,i.toString()])}),r}}},{key:"getTransformationParams",value:function(t){var e=t.transformationParams;if(void 0===e)return[];var n=function(t){return Object.entries(t).filter(tF).map(function(t){var e=tM(t,2);return[e[0],e[1].toString()]})};return Array.isArray(e)?e.flatMap(n):n(e)}},{key:"addQueryParams",value:function(t,e){return 0===e.length?t:"".concat(t,"?").concat(e.map(function(t){var e=tM(t,2);return G(e[0],e[1])}).join("&"))}}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=tN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tN(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tN(e)?e:e+""}(r.key),r)}}(o,i),Object.defineProperty(o,"prototype",{writable:!1}),o),tL=!1;function tH(){}function tz(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function tV(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}function tJ(t,e,n){if(!t.s){if(n instanceof tK){if(n.s)1&e&&(e=n.s),n=n.v;else{n.o=tJ.bind(null,t,e);return}}if(n&&n.then){n.then(tJ.bind(null,t,e),tJ.bind(null,t,2));return}t.s=e,t.v=n;var r=t.o;r&&r(t)}}var tK=function(){function t(){}return t.prototype.then=function(e,n){var r=new t,o=this.s;if(o){var i=1&o?e:n;if(!i)return this;try{tJ(r,1,i(this.v))}catch(t){tJ(r,2,t)}return r}return this.o=function(t){try{var o=t.v;1&t.s?tJ(r,1,e?e(o):o):n?tJ(r,1,n(o)):tJ(r,2,o)}catch(t){tJ(r,2,t)}},r},t}();function t$(t){return t instanceof tK&&1&t.s}function tG(t){return(tG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tQ(t){return function(t){if(Array.isArray(t))return tY(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tY(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=tG(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tG(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tG(e)?e:e+""}(r.key),r)}}function tZ(t){return(tZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=tZ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tZ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tZ(e)?e:e+""}(r.key),r)}}function t1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(t1=function(){return!!t})()}function t2(t){return(t2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function t3(t,e){return(t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function t9(t){return(t9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t6(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function t8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=t9(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=t9(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==t9(e)?e:e+""}(r.key),r)}}function t4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(t4=function(){return!!t})()}function t5(t){return(t5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function t7(t,e){return(t7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var et=function(t){var e,n;function r(){var t,e;return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),t=r,e=arguments,t=t5(t),function(t,e){if(e&&("object"===t9(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t4()?Reflect.construct(t,e||[],t5(this).constructor):t.apply(this,e))}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t7(t,e)}(r,t),e=[{key:"doPutUploadPart",value:function(t,e,n,r,o){try{var i=this,u=new XMLHttpRequest,c=!0;return o(function(){c&&u.abort()}),t6(function(t,e){try{var n=t()}catch(t){return e(!0,t)}return n&&n.then?n.then(e.bind(null,!1),e.bind(null,!0)):e(!1,n)}(function(){return t6(new Promise(function(e,o){u.upload.addEventListener("progress",function(t){t.lengthComputable&&r(t.loaded)},!1),u.addEventListener("load",function(){var t,n=null!==(t=u.getResponseHeader("etag"))&&void 0!==t?t:void 0;e({etag:n,status:u.status})}),u.onabort=function(){return o(new V)},u.onerror=function(){return o(Error("File upload error."))},u.ontimeout=function(){return o(Error("File upload timeout."))},u.open("PUT",t.uploadUrl),u.send(i.getRequestBody(t,n))}))},function(t,e){return c=!1,function(t,e){if(t)throw e;return e}(t,e)}))}catch(t){return Promise.reject(t)}}}],t8(r.prototype,e),n&&t8(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(function(t){var e,n;function r(){var t,e;return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),t=r,e=arguments,t=t2(t),function(t,e){if(e&&("object"===tZ(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t1()?Reflect.construct(t,e||[],t2(this).constructor):t.apply(this,e))}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t3(t,e)}(r,t),e=[{key:"processUploadSource",value:function(t){if("string"==typeof t)return{type:"Blob",value:new Blob([t],{type:this.stringMimeType})};if(void 0!==t.byteLength)return{type:"ArrayBuffer",value:t};if(void 0!==t.size)return{type:"Blob",value:t};throw Error("Unsupported type for 'data' parameter. Please provide a String, Blob, ArrayBuffer, or File object (from a file input element).")}},{key:"getPreUploadInfoPartial",value:function(t,e){switch(e.type){case"Blob":return this.getBlobInfo(e);case"ArrayBuffer":return{mime:void 0,size:e.value.byteLength,originalFileName:void 0,maxConcurrentUploadParts:void 0};default:!function(t){throw Error("Didn't expect to get here: ".concat(JSON.stringify(t)))}(e)}}},{key:"preUpload",value:function(t){}},{key:"postUpload",value:function(t){var e,n;return e&&e.then||(e=Promise.resolve(e)),n?e.then(n):e}},{key:"getRequestBody",value:function(t,e){return -1===t.range.inclusiveEnd?new Blob:e.value.slice(t.range.inclusiveStart,t.range.inclusiveEnd+1)}}],t0(r.prototype,e),n&&t0(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}((u=function t(e){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),this.config=e,this.stringMimeType="text/plain",this.defaultMaxConcurrentUploadParts=4,this.intervalMs=500,this.uploadApi=new tU(e),this.accountId=H.getAccountId(e)},c=[{key:"upload",value:function(t){try{var e=this;e.assertNotCancelled(t);var n=e.processUploadSource(t.data),r=e.getPreUploadInfo(t,n),o=r.size,i=e.makeOnProgressForPartFactory(t,o),u=e.preUpload(n);return void 0!==t.onProgress&&t.onProgress(e.makeProgressEvent(0,o)),tz(e.beginUpload(t,r),function(o){var c,a,l,s=o.uploadParts.count,f=tQ(Array(s).keys()),p=e.makeCancellationMethods(),d=p.cancel,h=p.addCancellationHandler,y=setInterval(e.onIntervalTick(t,d),e.intervalMs);return c=function(t,e){try{var n=t()}catch(t){return e(!0,t)}return n&&n.then?n.then(e.bind(null,!1),e.bind(null,!0)):e(!1,n)}(function(){return tz(e.mapAsync(f,r.maxConcurrentUploadParts,tV(function(r){return e.uploadPart(t,n,r,o,i(),h)})),function(t){var n;return l=t,(n=e.postUpload(u))&&n.then?n.then(tH):Promise.resolve()})},function(t,e){return clearInterval(y),function(t,e){if(t)throw e;return e}(t,e)}),a=function(){var t=l.flatMap(function(t){return"Completed"===t.status?[t.etag]:[]})[0];return Object.assign(Object.assign({},o.file),{etag:t})},c&&c.then?c.then(a):a(c)})}catch(t){return Promise.reject(t)}}},{key:"getBlobInfo",value:function(t){var e=t.value,n=e.name,r=e.size,o=e.type;return{mime:""===o?void 0:o,size:r,originalFileName:n,maxConcurrentUploadParts:void 0}}},{key:"onIntervalTick",value:function(t,e){var n=this;return function(){n.isCancelled(t)&&e()}}},{key:"makeCancellationMethods",value:function(){var t=[];return{cancel:function(){return t.forEach(function(t){return t()})},addCancellationHandler:function(e){t.push(e)}}}},{key:"makeOnProgressForPartFactory",value:function(t,e){var n=this,r=t.onProgress;if(void 0===r)return function(){return function(){}};var o=0;return function(){var t=0;return function(i){var u=i-t;t+=u,o+=u,r(n.makeProgressEvent(o,e))}}}},{key:"makeProgressEvent",value:function(t,e){return{bytesTotal:e,bytesSent:t,progress:Math.round(t/e*100)}}},{key:"assertNotCancelled",value:function(t){if(this.isCancelled(t))throw new V}},{key:"isCancelled",value:function(t){var e;return(null===(e=t.cancellationToken)||void 0===e?void 0:e.isCancelled)===!0}},{key:"beginUpload",value:function(t,e){var n=e.size,r=e.mime,o=e.originalFileName;try{return tz(this.uploadApi.beginMultipartUpload({accountId:this.accountId,beginMultipartUploadRequest:{metadata:t.metadata,mime:r,originalFileName:o,path:t.path,protocol:"1.1",size:n,tags:t.tags}}))}catch(t){return Promise.reject(t)}}},{key:"uploadPart",value:function(t,e,n,r,o,i){try{var u=this;return u.assertNotCancelled(t),tz(u.getUploadPart(n,r),function(c){return u.assertNotCancelled(t),tz(u.putUploadPart(c,e,o,i),function(e){return u.assertNotCancelled(t),tz(u.uploadApi.completeUploadPart({accountId:u.accountId,uploadId:r.uploadId,uploadPartIndex:n,completeUploadPartRequest:{etag:e}}))})})}catch(t){return Promise.reject(t)}}},{key:"putUploadPart",value:function(t,e,n,r){try{var o=t.range.inclusiveEnd+1-t.range.inclusiveStart;return tz(this.doPutUploadPart(t,o,e,n,r),function(t){var e=t.status,r=t.etag;if(2!==Math.floor(e/100))throw Error("Failed to upload part (".concat(e,")."));if(void 0===r)throw Error("No 'etag' response header found in upload part response.");return n(o),r})}catch(t){return Promise.reject(t)}}},{key:"getUploadPart",value:function(t,e){try{if(0===t)return tz(e.uploadParts.first);return tz(this.uploadApi.getUploadPart({uploadId:e.uploadId,accountId:this.accountId,uploadPartIndex:t}))}catch(t){return Promise.reject(t)}}},{key:"getPreUploadInfo",value:function(t,e){var n,r,o,i=this.getPreUploadInfoPartial(t,e);return{maxConcurrentUploadParts:null!==(n=i.maxConcurrentUploadParts)&&void 0!==n?n:this.defaultMaxConcurrentUploadParts,originalFileName:null!==(r=t.originalFileName)&&void 0!==r?r:i.originalFileName,mime:null!==(o=t.mime)&&void 0!==o?o:i.mime,size:i.size}}},{key:"mapAsync",value:function(t,e,n){try{var r=[],o=tQ(t);return tz(Promise.all(tQ(Array(e).keys()).map(tV(function(){return function(t){if(t&&t.then)return t.then(tH)}(function(t,e,n){for(;;){var r,o=t();if(t$(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(t$(i))i=i.s;else{r=1;break}}if(e){var u=e();if(u&&u.then&&!t$(u)){r=2;break}}}var c=new tK,a=tJ.bind(null,c,2);return(0===r?o.then(s):1===r?i.then(l):u.then(f)).then(void 0,a),c;function l(r){i=r;do{if(e&&(u=e())&&u.then&&!t$(u)){u.then(f).then(void 0,a);return}if(!(o=t())||t$(o)&&!o.v){tJ(c,1,i);return}if(o.then){o.then(s).then(void 0,a);return}t$(i=n())&&(i=i.v)}while(!i||!i.then);i.then(l).then(void 0,a)}function s(t){t?(i=n())&&i.then?i.then(l).then(void 0,a):l(i):tJ(c,1,i)}function f(){(o=t())?o.then?o.then(s).then(void 0,a):s(o):tJ(c,1,i)}}(function(){return o.length>0},void 0,function(){var t=o.shift();return function(t){var e=t();if(e&&e.then)return e.then(tH)}(function(){if(void 0!==t){var e=r.push;return tz(n(t),function(t){e.call(r,t)})}})}))}))),function(){return r})}catch(t){return Promise.reject(t)}}}],tX(u.prototype,c),a&&tX(u,a),Object.defineProperty(u,"prototype",{writable:!1}),u)));function ee(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function en(t){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function er(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=en(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=en(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==en(e)?e:e+""}(r.key),r)}}var ei=(l=function t(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,t)},s=[{key:"canUseServiceWorkers",value:function(){return"serviceWorker"in navigator}},{key:"sendMessage",value:function(t,e,n){try{return ee(void 0!==e.serviceWorkerScope?this.getActiveServiceWorkerElseRegister(e,t):this.registerServiceWorkerValidated(e.serviceWorkerScript,t,n),function(e){return e.messageSent||e.serviceWorker.postMessage(t),e.config})}catch(t){return Promise.reject(t)}}},{key:"registerServiceWorkerValidated",value:function(t,e,n){try{if(!t.startsWith("/"))throw Error("The '".concat(n,"' field must start with a '/' and reference a script at the root of your website."));return t.split("/").length-1>1&&k.warn("The '".concat(n,"' field should be a root script (e.g. '/script.js'). The Bytescale SDK can only authorize requests originating from webpages that are at the same level as the script or below.")),ee(this.registerServiceWorker(t,e))}catch(t){return Promise.reject(t)}}},{key:"getActiveServiceWorkerElseRegister",value:function(t,e){try{var n=this;return ee(n.getActiveServiceWorker(t.serviceWorkerScope),function(r){return void 0!==r?{serviceWorker:r,messageSent:!1,config:t}:ee(n.registerServiceWorker(t.serviceWorkerScript,e))})}catch(t){return Promise.reject(t)}}},{key:"registerServiceWorker",value:function(t,e){try{var n=this;return ee(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}(function(){return ee(navigator.serviceWorker.register(t),function(r){return ee(n.waitForActiveServiceWorker(r,e),function(e){var n=e.serviceWorker,o=e.messageSent;return{serviceWorker:n,messageSent:o,config:{serviceWorkerScript:t,serviceWorkerScope:r.scope}}})})},function(t){throw Error("Failed to install Bytescale Service Worker (SW). ".concat(t.name,": ").concat(t.message))}))}catch(t){return Promise.reject(t)}}},{key:"waitForActiveServiceWorker",value:function(t,e){try{var n,r,o=!1,i=t.installing;return ee((n=function(e){if(o)return e;if(null!==t.active)return{serviceWorker:t.active,messageSent:!1};throw Error("Service worker was neither 'installing' or 'active'.")},(r=function(){if(null!==i){var t=new Promise(function(t){i.addEventListener("statechange",function e(n){var r=n.target;"activated"===r.state&&(i.removeEventListener("statechange",e),t({messageSent:!0,serviceWorker:r}))})});return i.postMessage(e),ee(t,function(t){return o=!0,t})}}())&&r.then?r.then(n):n(r)))}catch(t){return Promise.reject(t)}}},{key:"getActiveServiceWorker",value:function(t){try{return ee(navigator.serviceWorker.getRegistrations(),function(e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return er(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(t,e)}}(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(null!==o.active&&o.scope===t)return o.active}}catch(t){r.e(t)}finally{r.f()}})}catch(t){return Promise.reject(t)}}}],eo(l.prototype,s),f&&eo(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l);function eu(){}function ec(t,e){if(!e)return t&&t.then?t.then(eu):Promise.resolve()}function ea(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function el(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}function es(t){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ef(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ep(r.key),r)}}function ep(t){var e=function(t,e){if("object"!=es(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=es(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==es(e)?e:e+""}var ed=new(p=function t(e){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),this.serviceWorkerUtils=e,this.serviceWorkerScriptFieldName="serviceWorkerScript",this.contentType="content-type",this.contentTypeJson="application/json",this.contentTypeText="text/plain",this.minJwtTtlSeconds=10,this.maxJwtTtlSeconds=2147483,this.retryAuthAfterErrorSeconds=5,this.refreshBeforeExpirySeconds=20,this.authSessionMutex=S.getMutex()},d=[{key:"isAuthSessionActive",value:function(){return void 0!==S.getSession()}},{key:"beginAuthSession",value:function(t){try{var e=this;return ea(e.authSessionMutex.safe(el(function(){if(e.isAuthSessionActive())throw Error("Auth session already active. Please call 'await endAuthSession()' and then call 'await beginAuthSession(...)' to start a new auth session.");var n={accessToken:void 0,accessTokenRefreshHandle:void 0,params:t,isActive:!0,authServiceWorker:void 0!==t.serviceWorkerScript&&e.serviceWorkerUtils.canUseServiceWorkers()?{serviceWorkerScript:t.serviceWorkerScript,serviceWorkerScope:void 0}:void 0};return S.setSession(n),n})),function(t){return ec(e.refreshAccessToken(t))})}catch(t){return Promise.reject(t)}}},{key:"endAuthSession",value:function(){try{var t=this;return ea(ec(t.authSessionMutex.safe(el(function(){var e=S.getSession();if(void 0!==e)return S.setSession(void 0),e.isActive=!1,void 0!==e.accessTokenRefreshHandle&&clearTimeout(e.accessTokenRefreshHandle),ea(t.deleteAccessToken(e.params),function(){return function(t){var e=t();if(e&&e.then)return e.then(eu)}(function(){if(void 0!==e.authServiceWorker)return ec(t.serviceWorkerUtils.sendMessage({type:"SET_BYTESCALE_AUTH_CONFIG",config:[]},e.authServiceWorker,t.serviceWorkerScriptFieldName))})})}))))}catch(t){return Promise.reject(t)}}},{key:"refreshAccessToken",value:function(t){try{var e=this;return ea(ec(e.authSessionMutex.safe(el(function(){if(t.isActive){var n=e.retryAuthAfterErrorSeconds;return function(t){if(t&&t.then)return t.then(eu)}(function(t,e){try{var n=t()}catch(t){return e(!0,t)}return n&&n.then?n.then(e.bind(null,!1),e.bind(null,!0)):e(!1,n)}(function(){return function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}(function(){var r=e.getAccessToken,o=t.params;return ea(t.params.authHeaders(),function(i){return ea(r.call(e,o,i),function(r){var o=void 0===t.authServiceWorker;return ea(e.setAccessToken(t.params,r,o),function(o){var i,u;return i=function(){var r=o.ttlSeconds-e.refreshBeforeExpirySeconds;n=Math.max(r,e.minJwtTtlSeconds),r!==n&&k.warn("JWT expiration is too short: waiting for ".concat(n," seconds before refreshing.")),n=Math.min(n,e.maxJwtTtlSeconds),t.accessToken=o.accessToken},(u=function(){if(void 0!==t.authServiceWorker)return ec(e.serviceWorkerUtils.sendMessage({type:"SET_BYTESCALE_AUTH_CONFIG",config:[{headers:[{key:"Authorization",value:"Bearer ".concat(r)}],expires:Date.now()+1e3*o.ttlSeconds,urlPrefix:"".concat(e.getCdnUrl(t.params),"/").concat(t.params.accountId,"/")}]},t.authServiceWorker,e.serviceWorkerScriptFieldName))}())&&u.then?u.then(i):i(u)})})})},function(t){k.warn("Unable to refresh JWT access token: ".concat(t))})},function(r,o){return t.accessTokenRefreshHandle=window.setTimeout(function(){e.refreshAccessToken(t).then(function(){},function(t){return k.error("Unexpected error when refreshing JWT access token: ".concat(t))})},1e3*n),function(t,e){if(t)throw e;return e}(r,o)}))}}))))}catch(t){return Promise.reject(t)}}},{key:"getAccessTokenUrl",value:function(t,e){return"".concat(this.getCdnUrl(t),"/api/v1/access_tokens/").concat(t.accountId,"?set-cookie=").concat(e?"true":"false")}},{key:"getCdnUrl",value:function(t){var e;return H.getCdnUrl(null!==(e=t.options)&&void 0!==e?e:{})}},{key:"deleteAccessToken",value:function(t){try{var e;return ea(ec(z.fetch(this.getAccessTokenUrl(t,!0),{method:"DELETE",credentials:"include",headers:{}},{isBytescaleApi:!0,fetchApi:null===(e=t.options)||void 0===e?void 0:e.fetchApi})))}catch(t){return Promise.reject(t)}}},{key:"setAccessToken",value:function(t,e,n){try{var r,o,i,u;return ea(z.fetch(this.getAccessTokenUrl(t,n),{method:"PUT",credentials:"include",headers:(o={},i=this.contentType,u=this.contentTypeJson,(i=ep(i))in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,o),body:JSON.stringify({accessToken:e})},{isBytescaleApi:!0,fetchApi:null===(r=t.options)||void 0===r?void 0:r.fetchApi}),function(t){return ea(t.json())})}catch(t){return Promise.reject(t)}}},{key:"getAccessToken",value:function(t,e){try{var n,r,o=this,i="Your auth API endpoint",u=o.contentTypeText;return ea(z.fetch(t.authUrl,{method:"GET",headers:e},{isBytescaleApi:!1,fetchApi:null===(n=t.options)||void 0===n?void 0:n.fetchApi}),function(t){var e=null!==(r=t.headers.get(o.contentType))&&void 0!==r?r:"";if(e.split(";")[0]!==u)throw Error("".concat(i,' returned "').concat(e,'" for the ').concat(o.contentType,' response header, but the Bytescale SDK requires "').concat(u,'".'));return ea(t.text(),function(t){if(0===t.length)throw Error("".concat(i," returned an empty string. Please return a valid JWT instead."));if(t.trim().length!==t.length)throw Error("".concat(i," returned whitespace around the JWT, please remove it."));return t})})}catch(t){return Promise.reject(t)}}}],ef(p.prototype,d),h&&ef(p,h),Object.defineProperty(p,"prototype",{writable:!1}),p)(new ei);t.exports=v}()},2339:function(t,e,n){!function(){"use strict";var e={};e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};e.r(r),e.d(r,{UploadButton:function(){return f},UploadDropzone:function(){return h}});var o=n(7294),i=e.n(o),u=n(9886),c=e.n(u);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(t){var e,n,r,i=function(t){if(Array.isArray(t))return t}(e=(0,o.useState)(void 0))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,2)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=i[0],l=i[1],s=(r=(0,o.useRef)(),c()(t,r.current)||(r.current=t),null!==(n=r.current)&&void 0!==n?n:t);return(0,o.useEffect)(function(){void 0!==u&&u.updateConfig(t)},[s,u]),Object.assign(Object.assign({},t),{onInit:function(e){(null==t?void 0:t.onInit)!==void 0&&t.onInit(e),l(e)}})}var s=n(662),f=function(t){var e=t.options,n=t.onComplete,r=t.onUpdate,o=t.children,i=l(Object.assign(Object.assign({},e),void 0===r?{}:{onUpdate:r}));return o({onClick:function(t){t.preventDefault(),s.UploadWidget.open(i).then(function(t){void 0!==n&&n(t)},function(t){return console.error("Uploader error.",t)})}})};function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var h=function(t){var e,n,r,u,c,a=t.options,f=t.onComplete,h=t.onUpdate,y=t.minWidth,v=t.width,_=t.height,m=t.className,b=function(t){if(Array.isArray(t))return t}((r=(n=function(t){if(Array.isArray(t))return t}(e=(0,o.useState)(void 0))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,2)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],u=n[1],c=[r,(0,o.useCallback)(function(t){u(null!=t?t:void 0)},[])]))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(c,2)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=b[0],P=b[1],w=l(Object.assign(Object.assign(Object.assign({},a),void 0===h?{}:{onUpdate:h}),{layout:"inline",container:g}));return"undefined"!=typeof window&&(0,o.useLayoutEffect)(function(){void 0!==g&&s.UploadWidget.open(w).then(function(t){void 0!==f&&f(t)},function(t){return console.error("Uploader error.",t)})},[g]),i().createElement("div",Object.assign({},void 0===m?{}:{className:m},{ref:P,style:{position:"relative",width:"100%",minWidth:null!=y?y:"280px",maxWidth:null!=v?v:"600px",height:null!=_?_:"375px"}}))};t.exports=r}()},5090:function(t){t.exports=function(){"use strict";var t={"./src/index.ts":function(t,e,n){function r(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function o(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}n.r(e),n.d(e,{beginMultipartUpload:function(){return y},completeUploadPart:function(){return h},getUploadPart:function(){return d},request:function(){return i}});var i=o(function(t,e){var n,o,i,c,a=(i=e.path.replace(/[:]/g,"_"),c="".concat(t.BASE).concat(i),e.query?"".concat(c).concat((n=e.query,o=[],(Object.keys(n).forEach(function(t){var e=n[t];null!=e&&(Array.isArray(e)?e.forEach(function(e){o.push("".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(e))))}):o.push("".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(e)))))}),o.length>0)?"?".concat(o.join("&")):"")):c);return r(u(t,e,a),function(t){var n,r,o=(n=t.getResponseHeader(l))?n.toLowerCase().startsWith(s)?JSON.parse(t.responseText):t.responseText:null,i=(r=e.responseHeader)?t.getResponseHeader(r):null;return{url:a,ok:t.status>=200&&t.status<300,status:t.status,statusText:t.statusText,body:i||o}})}),u=o(function(t,e,n){var o=new XMLHttpRequest;return o.open(e.method,n,!0),o.withCredentials=t.WITH_CREDENTIALS,r(c(t,e),function(t){return t.forEach(function(t,e){o.setRequestHeader(e,t)}),new Promise(function(t){o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&t(o)},o.send(function(t){if(t.body)return JSON.stringify(t.body)}(e))})})}),c=o(function(t,e){return r(a(e,t.USERNAME),function(n){return r(a(e,t.PASSWORD),function(o){return r(a(e,t.HEADERS),function(t){var r=new Headers(Object.assign(Object.assign({Accept:s},t),e.headers));if(f(n)&&f(o)){var i=btoa("".concat(n,":").concat(o));r.append("Authorization","Basic ".concat(i))}return e.body&&r.append(l,s),r})})})}),a=o(function(t,e){return"function"==typeof e?e(t):e}),l="Content-Type",s="application/json";function f(t){return"string"==typeof t&&""!==t}function p(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}var d=p(function(t,e,n,r){return i(t,{method:"GET",path:"".concat(v).concat(e).concat(_,"/").concat(n).concat(m).concat(r)})}),h=p(function(t,e,n,r,o){return i(t,{method:"PUT",path:"".concat(v).concat(e).concat(_,"/").concat(n).concat(m).concat(r),body:o})}),y=p(function(t,e,n){return i(t,{method:"POST",path:"".concat(v).concat(e).concat(_),body:n})}),v="/v2/accounts/",_="/uploads",m="/parts/"}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./src/index.ts")}()},9886:function(t,e,n){t=n.nmd(t);var r,o,i,u="__lodash_hash_undefined__",c="[object Arguments]",a="[object Array]",l="[object Boolean]",s="[object Date]",f="[object Error]",p="[object Function]",d="[object Map]",h="[object Number]",y="[object Object]",v="[object Promise]",_="[object RegExp]",m="[object Set]",b="[object String]",g="[object WeakMap]",P="[object ArrayBuffer]",w="[object DataView]",S=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[c]=k[a]=k[P]=k[l]=k[w]=k[s]=k[f]=k[p]=k[d]=k[h]=k[y]=k[_]=k[m]=k[b]=k[g]=!1;var O="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,T="object"==typeof self&&self&&self.Object===Object&&self,E=O||T||Function("return this")(),I=e&&!e.nodeType&&e,A=I&&t&&!t.nodeType&&t,C=A&&A.exports===I,x=C&&O.process,U=function(){try{return x&&x.binding&&x.binding("util")}catch(t){}}(),R=U&&U.isTypedArray;function F(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function N(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var M=Array.prototype,W=Function.prototype,q=Object.prototype,B=E["__core-js_shared__"],D=W.toString,L=q.hasOwnProperty,H=(r=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",z=q.toString,V=RegExp("^"+D.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=C?E.Buffer:void 0,K=E.Symbol,$=E.Uint8Array,G=q.propertyIsEnumerable,Q=M.splice,Y=K?K.toStringTag:void 0,X=Object.getOwnPropertySymbols,Z=J?J.isBuffer:void 0,tt=(o=Object.keys,i=Object,function(t){return o(i(t))}),te=tk(E,"DataView"),tn=tk(E,"Map"),tr=tk(E,"Promise"),to=tk(E,"Set"),ti=tk(E,"WeakMap"),tu=tk(Object,"create"),tc=tE(te),ta=tE(tn),tl=tE(tr),ts=tE(to),tf=tE(ti),tp=K?K.prototype:void 0,td=tp?tp.valueOf:void 0;function th(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ty(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tv(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function t_(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new tv;++e<n;)this.add(t[e])}function tm(t){var e=this.__data__=new ty(t);this.size=e.size}function tb(t,e){for(var n=t.length;n--;)if(tI(t[n][0],e))return n;return -1}function tg(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Y&&Y in Object(t)?function(t){var e=L.call(t,Y),n=t[Y];try{t[Y]=void 0;var r=!0}catch(t){}var o=z.call(t);return r&&(e?t[Y]=n:delete t[Y]),o}(t):z.call(t)}function tP(t){return tN(t)&&tg(t)==c}function tw(t,e,n,r,o,i){var u=1&n,c=t.length,a=e.length;if(c!=a&&!(u&&a>c))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var s=-1,f=!0,p=2&n?new t_:void 0;for(i.set(t,e),i.set(e,t);++s<c;){var d=t[s],h=e[s];if(r)var y=u?r(h,d,s,e,t,i):r(d,h,s,t,e,i);if(void 0!==y){if(y)continue;f=!1;break}if(p){if(!function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}(e,function(t,e){if(!p.has(e)&&(d===t||o(d,t,n,r,i)))return p.push(e)})){f=!1;break}}else if(!(d===h||o(d,h,n,r,i))){f=!1;break}}return i.delete(t),i.delete(e),f}function tS(t){var e;return e=function(t){return null!=t&&tR(t.length)&&!tU(t)?function(t,e){var n,r,o=tC(t),i=!o&&tA(t),u=!o&&!i&&tx(t),c=!o&&!i&&!u&&tM(t),a=o||i||u||c,l=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=l.length;for(var f in t)L.call(t,f)&&!(a&&("length"==f||u&&("offset"==f||"parent"==f)||c&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||(n=f,(r=null==(r=s)?9007199254740991:r)&&("number"==typeof n||j.test(n))&&n>-1&&n%1==0&&n<r)))&&l.push(f);return l}(t):function(t){if(n="function"==typeof(e=t&&t.constructor)&&e.prototype||q,t!==n)return tt(t);var e,n,r=[];for(var o in Object(t))L.call(t,o)&&"constructor"!=o&&r.push(o);return r}(t)}(t),tC(t)?e:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(e,tO(t))}function tj(t,e){var n,r=t.__data__;return("string"==(n=typeof e)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?r["string"==typeof e?"string":"hash"]:r.map}function tk(t,e){var n=null==t?void 0:t[e];return!(!tF(n)||H&&H in n)&&(tU(n)?V:S).test(tE(n))?n:void 0}th.prototype.clear=function(){this.__data__=tu?tu(null):{},this.size=0},th.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},th.prototype.get=function(t){var e=this.__data__;if(tu){var n=e[t];return n===u?void 0:n}return L.call(e,t)?e[t]:void 0},th.prototype.has=function(t){var e=this.__data__;return tu?void 0!==e[t]:L.call(e,t)},th.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=tu&&void 0===e?u:e,this},ty.prototype.clear=function(){this.__data__=[],this.size=0},ty.prototype.delete=function(t){var e=this.__data__,n=tb(e,t);return!(n<0)&&(n==e.length-1?e.pop():Q.call(e,n,1),--this.size,!0)},ty.prototype.get=function(t){var e=this.__data__,n=tb(e,t);return n<0?void 0:e[n][1]},ty.prototype.has=function(t){return tb(this.__data__,t)>-1},ty.prototype.set=function(t,e){var n=this.__data__,r=tb(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},tv.prototype.clear=function(){this.size=0,this.__data__={hash:new th,map:new(tn||ty),string:new th}},tv.prototype.delete=function(t){var e=tj(this,t).delete(t);return this.size-=e?1:0,e},tv.prototype.get=function(t){return tj(this,t).get(t)},tv.prototype.has=function(t){return tj(this,t).has(t)},tv.prototype.set=function(t,e){var n=tj(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},t_.prototype.add=t_.prototype.push=function(t){return this.__data__.set(t,u),this},t_.prototype.has=function(t){return this.__data__.has(t)},tm.prototype.clear=function(){this.__data__=new ty,this.size=0},tm.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},tm.prototype.get=function(t){return this.__data__.get(t)},tm.prototype.has=function(t){return this.__data__.has(t)},tm.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ty){var r=n.__data__;if(!tn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tv(r)}return n.set(t,e),this.size=n.size,this};var tO=X?function(t){return null==t?[]:function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}(X(t=Object(t)),function(e){return G.call(t,e)})}:function(){return[]},tT=tg;function tE(t){if(null!=t){try{return D.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function tI(t,e){return t===e||t!=t&&e!=e}(te&&tT(new te(new ArrayBuffer(1)))!=w||tn&&tT(new tn)!=d||tr&&tT(tr.resolve())!=v||to&&tT(new to)!=m||ti&&tT(new ti)!=g)&&(tT=function(t){var e=tg(t),n=e==y?t.constructor:void 0,r=n?tE(n):"";if(r)switch(r){case tc:return w;case ta:return d;case tl:return v;case ts:return m;case tf:return g}return e});var tA=tP(function(){return arguments}())?tP:function(t){return tN(t)&&L.call(t,"callee")&&!G.call(t,"callee")},tC=Array.isArray,tx=Z||function(){return!1};function tU(t){if(!tF(t))return!1;var e=tg(t);return e==p||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function tR(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function tF(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function tN(t){return null!=t&&"object"==typeof t}var tM=R?function(t){return R(t)}:function(t){return tN(t)&&tR(t.length)&&!!k[tg(t)]};t.exports=function(t,e){return function t(e,n,r,o,i){return e===n||(null!=e&&null!=n&&(tN(e)||tN(n))?function(t,e,n,r,o,i){var u=tC(t),p=tC(e),v=u?a:tT(t),g=p?a:tT(e);v=v==c?y:v,g=g==c?y:g;var S=v==y,j=g==y,k=v==g;if(k&&tx(t)){if(!tx(e))return!1;u=!0,S=!1}if(k&&!S)return i||(i=new tm),u||tM(t)?tw(t,e,n,r,o,i):function(t,e,n,r,o,i,u){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case P:if(t.byteLength!=e.byteLength||!i(new $(t),new $(e)))break;return!0;case l:case s:case h:return tI(+t,+e);case f:return t.name==e.name&&t.message==e.message;case _:case b:return t==e+"";case d:var c=F;case m:var a=1&r;if(c||(c=N),t.size!=e.size&&!a)break;var p=u.get(t);if(p)return p==e;r|=2,u.set(t,e);var y=tw(c(t),c(e),r,o,i,u);return u.delete(t),y;case"[object Symbol]":if(td)return td.call(t)==td.call(e)}return!1}(t,e,v,n,r,o,i);if(!(1&n)){var O=S&&L.call(t,"__wrapped__"),T=j&&L.call(e,"__wrapped__");if(O||T){var E=O?t.value():t,I=T?e.value():e;return i||(i=new tm),o(E,I,n,r,i)}}return!!k&&(i||(i=new tm),function(t,e,n,r,o,i){var u=1&n,c=tS(t),a=c.length;if(a!=tS(e).length&&!u)return!1;for(var l=a;l--;){var s=c[l];if(!(u?s in e:L.call(e,s)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var p=!0;i.set(t,e),i.set(e,t);for(var d=u;++l<a;){var h=t[s=c[l]],y=e[s];if(r)var v=u?r(y,h,s,e,t,i):r(h,y,s,t,e,i);if(!(void 0===v?h===y||o(h,y,n,r,i):v)){p=!1;break}d||(d="constructor"==s)}if(p&&!d){var _=t.constructor,m=e.constructor;_!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof m&&m instanceof m)&&(p=!1)}return i.delete(t),i.delete(e),p}(t,e,n,r,o,i))}(e,n,r,o,t,i):e!=e&&n!=n)}(t,e)}},1720:function(t,e,n){"use strict";n.r(e),n.d(e,{Children:function(){return J},Component:function(){return c.Component},Fragment:function(){return c.Fragment},PureComponent:function(){return B},StrictMode:function(){return tA},Suspense:function(){return G},SuspenseList:function(){return X},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return tb},cloneElement:function(){return tk},createContext:function(){return c.createContext},createElement:function(){return c.createElement},createFactory:function(){return tP},createPortal:function(){return tn},createRef:function(){return c.createRef},default:function(){return tW},findDOMNode:function(){return tT},flushSync:function(){return tI},forwardRef:function(){return z},hydrate:function(){return tl},isElement:function(){return tF},isFragment:function(){return tS},isMemo:function(){return tj},isValidElement:function(){return tw},lazy:function(){return Y},memo:function(){return D},render:function(){return ta},startTransition:function(){return tC},unmountComponentAtNode:function(){return tO},unstable_batchedUpdates:function(){return tE},useCallback:function(){return O},useContext:function(){return T},useDebugValue:function(){return E},useDeferredValue:function(){return tx},useEffect:function(){return P},useErrorBoundary:function(){return I},useId:function(){return A},useImperativeHandle:function(){return j},useInsertionEffect:function(){return tR},useLayoutEffect:function(){return w},useMemo:function(){return k},useReducer:function(){return g},useRef:function(){return S},useState:function(){return b},useSyncExternalStore:function(){return tN},useTransition:function(){return tU},version:function(){return tg}});var r,o,i,u,c=n(6400),a=0,l=[],s=[],f=c.options,p=f.__b,d=f.__r,h=f.diffed,y=f.__c,v=f.unmount,_=f.__;function m(t,e){f.__h&&f.__h(o,t,a||e),a=0;var n=o.__H||(o.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:s}),n.__[t]}function b(t){return a=1,g(M,t)}function g(t,e,n){var i=m(r++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):M(void 0,e),function(t){var e=i.__N?i.__N[0]:i.__[0],n=i.t(e,t);e!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=o,!o.u)){var u=function(t,e,n){if(!i.__c.__H)return!0;var r=i.__c.__H.__.filter(function(t){return!!t.__c});if(r.every(function(t){return!t.__N}))return!c||c.call(this,t,e,n);var o=!1;return r.forEach(function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(o=!0)}}),!(!o&&i.__c.props===t)&&(!c||c.call(this,t,e,n))};o.u=!0;var c=o.shouldComponentUpdate,a=o.componentWillUpdate;o.componentWillUpdate=function(t,e,n){if(this.__e){var r=c;c=void 0,u(t,e,n),c=r}a&&a.call(this,t,e,n)},o.shouldComponentUpdate=u}return i.__N||i.__}function P(t,e){var n=m(r++,3);!f.__s&&N(n.__H,e)&&(n.__=t,n.i=e,o.__H.__h.push(n))}function w(t,e){var n=m(r++,4);!f.__s&&N(n.__H,e)&&(n.__=t,n.i=e,o.__h.push(n))}function S(t){return a=5,k(function(){return{current:t}},[])}function j(t,e,n){a=6,w(function(){return"function"==typeof t?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},null==n?n:n.concat(t))}function k(t,e){var n=m(r++,7);return N(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function O(t,e){return a=8,k(function(){return t},e)}function T(t){var e=o.context[t.__c],n=m(r++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(o)),e.props.value):t.__}function E(t,e){f.useDebugValue&&f.useDebugValue(e?e(t):t)}function I(t){var e=m(r++,10),n=b();return e.__=t,o.componentDidCatch||(o.componentDidCatch=function(t,r){e.__&&e.__(t,r),n[1](t)}),[n[0],function(){n[1](void 0)}]}function A(){var t=m(r++,11);if(!t.__){for(var e=o.__v;null!==e&&!e.__m&&null!==e.__;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function C(){for(var t;t=l.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(R),t.__H.__h.forEach(F),t.__H.__h=[]}catch(e){t.__H.__h=[],f.__e(e,t.__v)}}f.__b=function(t){o=null,p&&p(t)},f.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),_&&_(t,e)},f.__r=function(t){d&&d(t),r=0;var e=(o=t.__c).__H;e&&(i===o?(e.__h=[],o.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=s,t.__N=t.i=void 0})):(e.__h.forEach(R),e.__h.forEach(F),e.__h=[],r=0)),i=o},f.diffed=function(t){h&&h(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==l.push(e)&&u===f.requestAnimationFrame||((u=f.requestAnimationFrame)||U)(C)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==s&&(t.__=t.__V),t.i=void 0,t.__V=s})),i=o=null},f.__c=function(t,e){e.some(function(t){try{t.__h.forEach(R),t.__h=t.__h.filter(function(t){return!t.__||F(t)})}catch(n){e.some(function(t){t.__h&&(t.__h=[])}),e=[],f.__e(n,t.__v)}}),y&&y(t,e)},f.unmount=function(t){v&&v(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(t){try{R(t)}catch(t){e=t}}),n.__H=void 0,e&&f.__e(e,n.__v))};var x="function"==typeof requestAnimationFrame;function U(t){var e,n=function(){clearTimeout(r),x&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);x&&(e=requestAnimationFrame(n))}function R(t){var e=o,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),o=e}function F(t){var e=o;t.__c=t.__(),o=e}function N(t,e){return!t||t.length!==e.length||e.some(function(e,n){return e!==t[n]})}function M(t,e){return"function"==typeof e?e(t):e}function W(t,e){for(var n in e)t[n]=e[n];return t}function q(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function B(t,e){this.props=t,this.context=e}function D(t,e){function n(t){var n=this.props.ref,r=n==t.ref;return!r&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!r:q(this.props,t)}function r(e){return this.shouldComponentUpdate=n,(0,c.createElement)(t,e)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(B.prototype=new c.Component).isPureReactComponent=!0,B.prototype.shouldComponentUpdate=function(t,e){return q(this.props,t)||q(this.state,e)};var L=c.options.__b;c.options.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),L&&L(t)};var H="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function z(t){function e(e){var n=W({},e);return delete n.ref,t(n,e.ref||null)}return e.$$typeof=H,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var V=function(t,e){return null==t?null:(0,c.toChildArray)((0,c.toChildArray)(t).map(e))},J={map:V,forEach:V,count:function(t){return t?(0,c.toChildArray)(t).length:0},only:function(t){var e=(0,c.toChildArray)(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:c.toChildArray},K=c.options.__e;c.options.__e=function(t,e,n,r){if(t.then){for(var o,i=e;i=i.__;)if((o=i.__c)&&o.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),o.__c(t,e)}K(t,e,n,r)};var $=c.options.unmount;function G(){this.__u=0,this.t=null,this.__b=null}function Q(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Y(t){var e,n,r;function o(o){if(e||(e=t()).then(function(t){n=t.default||t},function(t){r=t}),r)throw r;if(!n)throw e;return(0,c.createElement)(n,o)}return o.displayName="Lazy",o.__f=!0,o}function X(){this.u=null,this.o=null}c.options.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),$&&$(t)},(G.prototype=new c.Component).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=Q(r.__v),i=!1,u=function(){i||(i=!0,n.__R=null,o?o(c):c())};n.__R=u;var c=function(){if(!--r.__u){if(r.state.__a){var t,e=r.state.__a;r.__v.__k[0]=function t(e,n,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return t(e,n,r)}),e.__c&&e.__c.__P===n&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}(e,e.__c.__P,e.__c.__O)}for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(u,u)},G.prototype.componentWillUnmount=function(){this.t=[]},G.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function t(e,n,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(t){"function"==typeof t.__c&&t.__c()}),e.__c.__H=null),null!=(e=W({},e)).__c&&(e.__c.__P===r&&(e.__c.__P=n),e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return t(e,n,r)})),e}(this.__b,n,r.__O=r.__P)}this.__b=null}var o=e.__a&&(0,c.createElement)(c.Fragment,null,t.fallback);return o&&(o.__u&=-33),[(0,c.createElement)(c.Fragment,null,e.__a?null:t.children),o]};var Z=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function tt(t){return this.getChildContext=function(){return t.context},t.children}function te(t){var e=this,n=t.i;e.componentWillUnmount=function(){(0,c.render)(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),(0,c.render)((0,c.createElement)(tt,{context:e.context},t.__v),e.l)}function tn(t,e){var n=(0,c.createElement)(te,{__v:t,i:e});return n.containerInfo=e,n}(X.prototype=new c.Component).__a=function(t){var e=this,n=Q(e.__v),r=e.o.get(t);return r[0]++,function(o){var i=function(){e.props.revealOrder?(r.push(o),Z(e,t,r)):o()};n?n(i):i()}},X.prototype.render=function(t){this.u=null,this.o=new Map;var e=(0,c.toChildArray)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},X.prototype.componentDidUpdate=X.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Z(t,n,e)})};var tr="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,to=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ti=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,tu=/[A-Z0-9]/g,tc="undefined"!=typeof document;function ta(t,e,n){return null==e.__k&&(e.textContent=""),(0,c.render)(t,e),"function"==typeof n&&n(),t?t.__c:null}function tl(t,e,n){return(0,c.hydrate)(t,e),"function"==typeof n&&n(),t?t.__c:null}c.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(c.Component.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var ts=c.options.event;function tf(){}function tp(){return this.cancelBubble}function td(){return this.defaultPrevented}c.options.event=function(t){return ts&&(t=ts(t)),t.persist=tf,t.isPropagationStopped=tp,t.isDefaultPrevented=td,t.nativeEvent=t};var th,ty={enumerable:!1,configurable:!0,get:function(){return this.class}},tv=c.options.vnode;c.options.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,n=t.type,r={};for(var o in e){var i=e[o];if(!("value"===o&&"defaultValue"in e&&null==i||tc&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var u,a=o.toLowerCase();"defaultValue"===o&&"value"in e&&null==e.value?o="value":"download"===o&&!0===i?i="":"translate"===a&&"no"===i?i=!1:"ondoubleclick"===a?o="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||(u=e.type,("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(u))?"onfocus"===a?o="onfocusin":"onblur"===a?o="onfocusout":ti.test(o)?o=a:-1===n.indexOf("-")&&to.test(o)?o=o.replace(tu,"-$&").toLowerCase():null===i&&(i=void 0):a=o="oninput","oninput"===a&&r[o=a]&&(o="oninputCapture"),r[o]=i}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=(0,c.toChildArray)(e.children).forEach(function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)})),"select"==n&&null!=r.defaultValue&&(r.value=(0,c.toChildArray)(e.children).forEach(function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value})),e.class&&!e.className?(r.class=e.class,Object.defineProperty(r,"className",ty)):(e.className&&!e.class||e.class&&e.className)&&(r.class=r.className=e.className),t.props=r}(t),t.$$typeof=tr,tv&&tv(t)};var t_=c.options.__r;c.options.__r=function(t){t_&&t_(t),th=t.__c};var tm=c.options.diffed;c.options.diffed=function(t){tm&&tm(t);var e=t.props,n=t.__e;null!=n&&"textarea"===t.type&&"value"in e&&e.value!==n.value&&(n.value=null==e.value?"":e.value),th=null};var tb={ReactCurrentDispatcher:{current:{readContext:function(t){return th.__n[t.__c].props.value},useCallback:O,useContext:T,useDebugValue:E,useDeferredValue:tx,useEffect:P,useId:A,useImperativeHandle:j,useInsertionEffect:tR,useLayoutEffect:w,useMemo:k,useReducer:g,useRef:S,useState:b,useSyncExternalStore:tN,useTransition:tU}}},tg="17.0.2";function tP(t){return c.createElement.bind(null,t)}function tw(t){return!!t&&t.$$typeof===tr}function tS(t){return tw(t)&&t.type===c.Fragment}function tj(t){return!!t&&!!t.displayName&&("string"==typeof t.displayName||t.displayName instanceof String)&&t.displayName.startsWith("Memo(")}function tk(t){return tw(t)?c.cloneElement.apply(null,arguments):t}function tO(t){return!!t.__k&&((0,c.render)(null,t),!0)}function tT(t){return t&&(t.base||1===t.nodeType&&t)||null}var tE=function(t,e){return t(e)},tI=function(t,e){return t(e)},tA=c.Fragment;function tC(t){t()}function tx(t){return t}function tU(){return[!1,tC]}var tR=w,tF=tw;function tN(t,e){var n=e(),r=b({h:{__:n,v:e}}),o=r[0].h,i=r[1];return w(function(){o.__=n,o.v=e,tM(o)&&i({h:o})},[t,n,e]),P(function(){return tM(o)&&i({h:o}),t(function(){tM(o)&&i({h:o})})},[t]),n}function tM(t){var e=t.v,n=t.__;try{var r=e();return!(n===r&&(0!==n||1/n==1/r)||n!=n&&r!=r)}catch(t){return!0}}var tW={useState:b,useId:A,useReducer:g,useEffect:P,useLayoutEffect:w,useInsertionEffect:tR,useTransition:tU,useDeferredValue:tx,useSyncExternalStore:tN,startTransition:tC,useRef:S,useImperativeHandle:j,useMemo:k,useCallback:O,useContext:T,useDebugValue:E,version:"17.0.2",Children:J,render:ta,hydrate:tl,unmountComponentAtNode:tO,createPortal:tn,createElement:c.createElement,createContext:c.createContext,createFactory:tP,cloneElement:tk,createRef:c.createRef,Fragment:c.Fragment,isValidElement:tw,isElement:tF,isFragment:tS,isMemo:tj,findDOMNode:tT,Component:c.Component,PureComponent:B,memo:D,forwardRef:z,flushSync:tI,unstable_batchedUpdates:tE,StrictMode:tA,Suspense:G,SuspenseList:X,lazy:Y,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:tb}},6400:function(t,e,n){"use strict";n.r(e),n.d(e,{Component:function(){return k},Fragment:function(){return j},cloneElement:function(){return B},createContext:function(){return D},createElement:function(){return P},createRef:function(){return S},h:function(){return P},hydrate:function(){return q},isValidElement:function(){return u},options:function(){return o},render:function(){return W},toChildArray:function(){return function t(e,n){return n=n||[],null==e||"boolean"==typeof e||(m(e)?e.some(function(e){t(e,n)}):n.push(e)),n}}});var r,o,i,u,c,a,l,s,f,p,d,h,y={},v=[],_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,m=Array.isArray;function b(t,e){for(var n in e)t[n]=e[n];return t}function g(t){var e=t.parentNode;e&&e.removeChild(t)}function P(t,e,n){var o,i,u,c={};for(u in e)"key"==u?o=e[u]:"ref"==u?i=e[u]:c[u]=e[u];if(arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(u in t.defaultProps)void 0===c[u]&&(c[u]=t.defaultProps[u]);return w(t,c,o,i,null)}function w(t,e,n,r,u){var c={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==u?++i:u,__i:-1,__u:0};return null==u&&null!=o.vnode&&o.vnode(c),c}function S(){return{current:null}}function j(t){return t.children}function k(t,e){this.props=t,this.context=e}function O(t,e){if(null==e)return t.__?O(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?O(t):null}function T(t){(!t.__d&&(t.__d=!0)&&c.push(t)&&!E.__r++||a!==o.debounceRendering)&&((a=o.debounceRendering)||l)(E)}function E(){var t,e,n,r,i,u,a,l;for(c.sort(s);t=c.shift();)t.__d&&(e=c.length,r=void 0,u=(i=(n=t).__v).__e,a=[],l=[],n.__P&&((r=b({},i)).__v=i.__v+1,o.vnode&&o.vnode(r),U(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[u]:null,a,null==u?O(i):u,!!(32&i.__u),l),r.__v=i.__v,r.__.__k[r.__i]=r,R(a,r,l),r.__e!=u&&function t(e){var n,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(r=e.__k[n])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return t(e)}}(r)),c.length>e&&c.sort(s));E.__r=0}function I(t,e,n,r,o,i,u,c,a,l,s){var f,p,d,h,_,b=r&&r.__k||v,g=e.length;for(n.__d=a,function(t,e,n){var r,o,i,u,c,a=e.length,l=n.length,s=l,f=0;for(t.__k=[],r=0;r<a;r++)u=r+f,null!=(o=t.__k[r]=null==(o=e[r])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?w(null,o,null,null,null):m(o)?w(j,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?w(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=t,o.__b=t.__b+1,c=function(t,e,n,r){var o=t.key,i=t.type,u=n-1,c=n+1,a=e[n];if(null===a||a&&o==a.key&&i===a.type&&0==(131072&a.__u))return n;if(r>(null!=a&&0==(131072&a.__u)?1:0))for(;u>=0||c<e.length;){if(u>=0){if((a=e[u])&&0==(131072&a.__u)&&o==a.key&&i===a.type)return u;u--}if(c<e.length){if((a=e[c])&&0==(131072&a.__u)&&o==a.key&&i===a.type)return c;c++}}return -1}(o,n,u,s),o.__i=c,i=null,-1!==c&&(s--,(i=n[c])&&(i.__u|=131072)),null==i||null===i.__v?(-1==c&&f--,"function"!=typeof o.type&&(o.__u|=65536)):c!==u&&(c===u+1?f++:c>u?s>a-u?f+=c-u:f--:c<u?c==u-1&&(f=c-u):f=0,c!==r+f&&(o.__u|=65536))):(i=n[u])&&null==i.key&&i.__e&&0==(131072&i.__u)&&(i.__e==t.__d&&(t.__d=O(i)),N(i,i,!1),n[u]=null,s--);if(s)for(r=0;r<l;r++)null!=(i=n[r])&&0==(131072&i.__u)&&(i.__e==t.__d&&(t.__d=O(i)),N(i,i))}(n,e,b),a=n.__d,f=0;f<g;f++)null!=(d=n.__k[f])&&"boolean"!=typeof d&&"function"!=typeof d&&(p=-1===d.__i?y:b[d.__i]||y,d.__i=f,U(t,d,p,o,i,u,c,a,l,s),h=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&F(p.ref,null,d),s.push(d.ref,d.__c||h,d)),null==_&&null!=h&&(_=h),65536&d.__u||p.__k===d.__k?(a&&!a.isConnected&&(a=O(p)),a=function t(e,n,r){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,n=t(o[i],n,r));return n}e.__e!=n&&(r.insertBefore(e.__e,n||null),n=e.__e);do n=n&&n.nextSibling;while(null!=n&&8===n.nodeType);return n}(d,a,t)):"function"==typeof d.type&&void 0!==d.__d?a=d.__d:h&&(a=h.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=a,n.__e=_}function A(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||_.test(e)?n:n+"px"}function C(t,e,n,r,o){var i;t:if("style"===e){if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||A(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||A(t.style,e,n[e])}}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase() in t||"onFocusOut"===e||"onFocusIn"===e?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=f,t.addEventListener(e,i?d:p,i)):t.removeEventListener(e,i?d:p,i);else{if("http://www.w3.org/2000/svg"==o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=e&&"height"!=e&&"href"!=e&&"list"!=e&&"form"!=e&&"tabIndex"!=e&&"download"!=e&&"rowSpan"!=e&&"colSpan"!=e&&"role"!=e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,n))}}function x(t){return function(e){if(this.l){var n=this.l[e.type+t];if(null==e.t)e.t=f++;else if(e.t<n.u)return;return n(o.event?o.event(e):e)}}}function U(t,e,n,i,u,c,a,l,s,f){var p,d,h,v,_,P,w,S,T,E,A,x,U,R,F,N=e.type;if(void 0!==e.constructor)return null;128&n.__u&&(s=!!(32&n.__u),c=[l=e.__e=n.__e]),(p=o.__b)&&p(e);t:if("function"==typeof N)try{if(S=e.props,T=(p=N.contextType)&&i[p.__c],E=p?T?T.props.value:p.__:i,n.__c?w=(d=e.__c=n.__c).__=d.__E:("prototype"in N&&N.prototype.render?e.__c=d=new N(S,E):(e.__c=d=new k(S,E),d.constructor=N,d.render=M),T&&T.sub(d),d.props=S,d.state||(d.state={}),d.context=E,d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=N.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=b({},d.__s)),b(d.__s,N.getDerivedStateFromProps(S,d.__s))),v=d.props,_=d.state,d.__v=e,h)null==N.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==N.getDerivedStateFromProps&&S!==v&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(S,E),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(S,d.__s,E)||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=S,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(t){t&&(t.__=e)}),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[],d.__h.length&&a.push(d);break t}null!=d.componentWillUpdate&&d.componentWillUpdate(S,d.__s,E),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(v,_,P)})}if(d.context=E,d.props=S,d.__P=t,d.__e=!1,x=o.__r,U=0,"prototype"in N&&N.prototype.render){for(d.state=d.__s,d.__d=!1,x&&x(e),p=d.render(d.props,d.state,d.context),R=0;R<d._sb.length;R++)d.__h.push(d._sb[R]);d._sb=[]}else do d.__d=!1,x&&x(e),p=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++U<25);d.state=d.__s,null!=d.getChildContext&&(i=b(b({},i),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(P=d.getSnapshotBeforeUpdate(v,_)),I(t,m(F=null!=p&&p.type===j&&null==p.key?p.props.children:p)?F:[F],e,n,i,u,c,a,l,s,f),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),w&&(d.__E=d.__=null)}catch(t){e.__v=null,s||null!=c?(e.__e=l,e.__u|=s?160:32,c[c.indexOf(l)]=null):(e.__e=n.__e,e.__k=n.__k),o.__e(t,e,n)}else null==c&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,o,i,u,c,a,l){var s,f,p,d,h,v,_,b=n.props,P=e.props,w=e.type;if("svg"===w?i="http://www.w3.org/2000/svg":"math"===w?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=u){for(s=0;s<u.length;s++)if((h=u[s])&&"setAttribute"in h==!!w&&(w?h.localName===w:3===h.nodeType)){t=h,u[s]=null;break}}if(null==t){if(null===w)return document.createTextNode(P);t=document.createElementNS(i,w,P.is&&P),u=null,a=!1}if(null===w)b===P||a&&t.data===P||(t.data=P);else{if(u=u&&r.call(t.childNodes),b=n.props||y,!a&&null!=u)for(b={},s=0;s<t.attributes.length;s++)b[(h=t.attributes[s]).name]=h.value;for(s in b)if(h=b[s],"children"==s);else if("dangerouslySetInnerHTML"==s)p=h;else if("key"!==s&&!(s in P)){if("value"==s&&"defaultValue"in P||"checked"==s&&"defaultChecked"in P)continue;C(t,s,null,h,i)}for(s in P)h=P[s],"children"==s?d=h:"dangerouslySetInnerHTML"==s?f=h:"value"==s?v=h:"checked"==s?_=h:"key"===s||a&&"function"!=typeof h||b[s]===h||C(t,s,h,b[s],i);if(f)a||p&&(f.__html===p.__html||f.__html===t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(p&&(t.innerHTML=""),I(t,m(d)?d:[d],e,n,o,"foreignObject"===w?"http://www.w3.org/1999/xhtml":i,u,c,u?u[0]:n.__k&&O(n,0),a,l),null!=u)for(s=u.length;s--;)null!=u[s]&&g(u[s]);a||(s="value",void 0===v||v===t[s]&&("progress"!==w||v)&&("option"!==w||v===b[s])||C(t,s,v,b[s],i),s="checked",void 0!==_&&_!==t[s]&&C(t,s,_,b[s],i))}return t}(n.__e,e,n,i,u,c,a,s,f);(p=o.diffed)&&p(e)}function R(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)F(n[r],n[++r],n[++r]);o.__c&&o.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){o.__e(t,e.__v)}})}function F(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){o.__e(t,n)}}function N(t,e,n){var r,i;if(o.unmount&&o.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||F(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){o.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&N(r[i],e,n||"function"!=typeof t.type);n||null==t.__e||g(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function M(t,e,n){return this.constructor(t,n)}function W(t,e,n){var i,u,c,a;o.__&&o.__(t,e),u=(i="function"==typeof n)?null:n&&n.__k||e.__k,c=[],a=[],U(e,t=(!i&&n||e).__k=P(j,null,[t]),u||y,y,e.namespaceURI,!i&&n?[n]:u?null:e.firstChild?r.call(e.childNodes):null,c,!i&&n?n:u?u.__e:e.firstChild,i,a),R(c,t,a)}function q(t,e){W(t,e,q)}function B(t,e,n){var o,i,u,c,a=b({},t.props);for(u in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)"key"==u?o=e[u]:"ref"==u?i=e[u]:a[u]=void 0===e[u]&&void 0!==c?c[u]:e[u];return arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),w(t.type,a,o||t.key,i||t.ref,null)}function D(t,e){var n={__c:e="__cC"+h++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(function(t){t.__e=!0,T(t)})},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}r=v.slice,o={__e:function(t,e,n,r){for(var o,i,u;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(t)),u=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,r||{}),u=o.__d),u)return o.__E=o}catch(e){t=e}throw t}},i=0,u=function(t){return null!=t&&null==t.constructor},k.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=b({},this.state),"function"==typeof t&&(t=t(b({},n),this.props)),t&&b(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),T(this))},k.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),T(this))},k.prototype.render=j,c=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=function(t,e){return t.__v.__b-e.__v.__b},E.__r=0,f=0,p=x(!1),d=x(!0),h=0},6584:function(t,e,n){"use strict";n.r(e),n.d(e,{Fragment:function(){return r.Fragment},jsx:function(){return l},jsxAttr:function(){return d},jsxDEV:function(){return l},jsxEscape:function(){return function t(e){if(null==e||"boolean"==typeof e||"function"==typeof e)return null;if("object"==typeof e){if(void 0===e.constructor)return e;if(a(e)){for(var n=0;n<e.length;n++)e[n]=t(e[n]);return e}}return i(""+e)}},jsxTemplate:function(){return s},jsxs:function(){return l}});var r=n(6400),o=/["&<]/;function i(t){if(0===t.length||!1===o.test(t))return t;for(var e=0,n=0,r="",i="";n<t.length;n++){switch(t.charCodeAt(n)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}n!==e&&(r+=t.slice(e,n)),r+=i,e=n+1}return n!==e&&(r+=t.slice(e,n)),r}var u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,c=0,a=Array.isArray;function l(t,e,n,o,i,u){e||(e={});var a,l,s=e;if("ref"in s)for(l in s={},e)"ref"==l?a=e[l]:s[l]=e[l];var f={type:t,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--c,__i:-1,__u:0,__source:i,__self:u};if("function"==typeof t&&(a=t.defaultProps))for(l in a)void 0===s[l]&&(s[l]=a[l]);return r.options.vnode&&r.options.vnode(f),f}function s(t){var e=l(r.Fragment,{tpl:t,exprs:[].slice.call(arguments,1)});return e.key=e.__v,e}var f={},p=/[A-Z]/g;function d(t,e){if(r.options.attr){var n=r.options.attr(t,e);if("string"==typeof n)return n}if("ref"===t||"key"===t)return"";if("style"===t&&"object"==typeof e){var o="";for(var c in e){var a=e[c];if(null!=a&&""!==a){var l="-"==c[0]?c:f[c]||(f[c]=c.replace(p,"-$&").toLowerCase()),s=";";"number"!=typeof a||l.startsWith("--")||u.test(l)||(s="px;"),o=o+l+":"+a+s}}return t+'="'+o+'"'}return null==e||!1===e||"function"==typeof e||"object"==typeof e?"":!0===e?t:t+'="'+i(e)+'"'}},4155:function(t){var e,n,r,o=t.exports={};function i(){throw Error("setTimeout has not been defined")}function u(){throw Error("clearTimeout has not been defined")}function c(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:u}catch(t){n=u}}();var a=[],l=!1,s=-1;function f(){l&&r&&(l=!1,r.length?a=r.concat(a):s=-1,a.length&&p())}function p(){if(!l){var t=c(f);l=!0;for(var e=a.length;e;){for(r=a,a=[];++s<e;)r&&r[s].run();s=-1,e=a.length}r=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===u||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new d(t,e)),1!==a.length||l||c(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(t){return[]},o.binding=function(t){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},2493:function(t){t.exports=function(){"use strict";var t={"./src/index.ts":function(t,e,n){function r(t){var e,n,r,o=null!==(e=t.minDelayUntilFirstValue)&&void 0!==e?e:0,i=null!==(n=t.teardownTime)&&void 0!==n?n:0,u=t.valueIncreaseRatePerSecond,c=t.averageTimeBetweenValues,a=t.maxValue,l=t.valueIncreaseDelta,s=Date.now(),f=0,p=0;function d(t,e,n){var r=1-Math.exp(-(e-n)/(3.5*c));return r*t+(1-r)*p}function h(t){var e,n,c;return c=null!=t?t:Date.now(),(e=void 0!==r?function(t,e){if(t.value===a){var n,r=(n=Math.min(1,(e-t.time)/Math.max(1e3,i)))*n,o=t.value-p;return p+o*r}return d(t.value,e,s)}(r,c):Math.min(1,(c-s)/(o+(n=Math.min(l,.33*a))/u*1e3))*n)>f&&(f=e),f}return{setValue:function(t,e){if(void 0!==r){if(r.value===a)return;p=d(r.value,r.time,s),s=r.time}r={time:null!=e?e:Date.now(),value:Math.min(t,a)}},smoothedValue:h,smoothedFactor:function(t){return h(t)/a}}}n.r(e),n.d(e,{ProgressSmoother:function(){return r}})}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./src/index.ts")}()},3502:function(t,e,n){t.exports=function(){"use strict";var t={"./src/index.ts":function(t,e,r){r.r(e),r.d(e,{Upload:function(){return C},UploadApiError:function(){return _}});var o=n(5090);function i(){}function u(t,e,n){if(!t.s){if(n instanceof c){if(n.s)1&e&&(e=n.s),n=n.v;else{n.o=u.bind(null,t,e);return}}if(n&&n.then){n.then(u.bind(null,t,e),u.bind(null,t,2));return}t.s=e,t.v=n;var r=t.o;r&&r(t)}}var c=function(){function t(){}return t.prototype.then=function(e,n){var r=new t,o=this.s;if(o){var i=1&o?e:n;if(!i)return this;try{u(r,1,i(this.v))}catch(t){u(r,2,t)}return r}return this.o=function(t){try{var o=t.v;1&t.s?u(r,1,e?e(o):o):n?u(r,1,n(o)):u(r,2,o)}catch(t){u(r,2,t)}},r},t}();function a(t){return t instanceof c&&1&t.s}var l=n(2493);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return d(t,arguments,v(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,t)})(t)}function d(t,e,n){return(d=h()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&y(o,n.prototype),o}).apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(i,t);var e,n,r,o=(e=h(),function(){var t,n=v(i);if(e){var r=v(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t.error.message)).errorCode=t.error.code,e.details=t.error.details,e}return n&&f(i.prototype,n),r&&f(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(p(Error));function m(t,e){if(t)throw e;return e}function b(t,e){try{var n=t()}catch(t){return e(!0,t)}return n&&n.then?n.then(e.bind(null,!1),e.bind(null,!0)):e(!1,n)}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function P(){}function w(t,e){if(!e)return t&&t.then?t.then(P):Promise.resolve()}function S(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}var j=["free","demo"];function k(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}var O="public_";function T(t,e,n){if(n)return e?e(t()):t();try{var r=Promise.resolve(t());return e?r.then(e):r}catch(t){return Promise.reject(t)}}function E(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function I(t){var e=t();if(e&&e.then)return e.then(P)}var A="[upload-js] ";function C(t){var e,n,r,s,f,p,d,h,y,v,C,x,U,R,F,N,M=(r=function(){var t,r;return t=function(t,e,n){for(;;){var r,o=t();if(a(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=n();if(i&&i.then){if(a(i))i=i.s;else{r=1;break}}if(e){var l=e();if(l&&l.then&&!a(l)){r=2;break}}}var s=new c,f=u.bind(null,s,2);return(0===r?o.then(d):1===r?i.then(p):l.then(h)).then(void 0,f),s;function p(r){i=r;do{if(e&&(l=e())&&l.then&&!a(l)){l.then(h).then(void 0,f);return}if(!(o=t())||a(o)&&!o.v){u(s,1,i);return}if(o.then){o.then(d).then(void 0,f);return}a(i=n())&&(i=i.v)}while(!i||!i.then);i.then(p).then(void 0,f)}function d(t){t?(i=n())&&i.then?i.then(p).then(void 0,f):p(i):u(s,1,i)}function h(){(o=t())?o.then?o.then(d).then(void 0,f):d(o):u(s,1,i)}}(function(){return void 0!==e},void 0,function(){var t;return(t=e)&&t.then?t.then(i):Promise.resolve()}),r=function(){e=new Promise(function(t){n=t})},t&&t.then?t.then(r):r(t)},s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(r.apply(this,t))}catch(t){return Promise.reject(t)}},f=function(){if(void 0===n)throw Error("Unable to release mutex: already released.");n(),n=void 0,e=void 0},{safe:function(t){return function(t,e,n){try{var r=Promise.resolve(t());return e?r.then(e):r}catch(t){return Promise.reject(t)}}(s,function(){return function(t,e){try{var n=t()}catch(t){return e(!0,t)}return n&&n.then?n.then(e.bind(null,!1),e.bind(null,!0)):e(!1,n)}(t,function(t,e){return f(),function(t,e){if(t)throw e;return e}(t,e)})})}}),W=null!==(d=null===(p=t.internal)||void 0===p?void 0:p.apiUrl)&&void 0!==d?d:"https://api.bytescale.com",q=null!==(y=null===(h=t.internal)||void 0===h?void 0:h.cdnUrl)&&void 0!==y?y:"https://upcdn.io",B=null===(C=null===(v=t.internal)||void 0===v?void 0:v.authenticateWithApiKey)||void 0===C||C,D=null===(x=t.internal)||void 0===x?void 0:x.headers,L=!0===t.debug,H=" was called.";if((null!=t?t:void 0)===void 0)throw Error("".concat(A,"Config parameter required."));if(!0===t.debug&&console.log("".concat(A,"Initialized with API key '").concat(t.apiKey,"'")),(null!==(U=t.apiKey)&&void 0!==U?U:void 0)===void 0)throw Error("".concat(A,"Please provide an API key via the 'apiKey' config parameter."));if(t.apiKey.trim()!==t.apiKey)throw Error("".concat(A,"API key needs trimming (whitespace detected)."));if((null===(R=t.internal)||void 0===R?void 0:R.authenticateWithApiKey)===!1)F=t.internal.accountId;else if(j.includes(t.apiKey))F="W142hJk";else{if(!t.apiKey.startsWith(O))throw Error("".concat(A,'API key must begin with "').concat(O,'".'));if(7!==(F=t.apiKey.substr(O.length,7)).length)throw Error("".concat(A,"API key is too short!"))}var z="".concat(q).concat("/api/v1/access_tokens/").concat(F),V=S(function(t,e){return w(tt(S(function(n){return n.beginAuthSession(t,e)}),S(function(){if(ts("'beginAuthSession'".concat(H)),(null==N?void 0:N.authUrl)===t){tf("'beginAuthSession' already called. Ignoring this call. Hint: call 'endAuthSession' and then 'beginAuthSession' if you want to restart the auth session.");return}return T($,function(){var n={accessToken:void 0,accessTokenRefreshHandle:void 0,isActive:!0,authUrl:t};return N=n,w(tn(t,e,n))})})))}),J=S(function(){return w(tt(S(function(t){return t.endAuthSession()}),S(function(){return ts("'endAuthSession'".concat(H)),T($,P,void 0)})))}),K={beginAuthSession:V,endAuthSession:J,uploadFile:S(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ts("'uploadFile'".concat(H));var n=[],r=function(t){n.push(t)},o=function(){return n.forEach(function(t){return t()})};return void 0!==e.onBegin&&e.onBegin({cancel:o}),E(function(){return k(G(t,e,r))},function(t){throw o(),t})}),url:function(t,e){var n,r="string"==typeof e?{transformation:e}:e;return"".concat(q,"/").concat(F,"/").concat(null!==(n=null==r?void 0:r.transformation)&&void 0!==n?n:"raw").concat(t).concat((null==r?void 0:r.auth)===!0?"?_auth=true":"")}},$=S(function(){return w(M.safe(S(function(){if(void 0!==N){var t=N;return N=void 0,void 0!==t.accessTokenRefreshHandle&&clearTimeout(t.accessTokenRefreshHandle),t.isActive=!1,T(Z,P,void 0)}})))}),G=S(function(t,e,n){var r=(0,l.ProgressSmoother)({maxValue:t.size,teardownTime:1e3,minDelayUntilFirstValue:2e3,valueIncreaseDelta:204800,valueIncreaseRatePerSecond:51200,averageTimeBetweenValues:1e3});return X(100,function(n){if(void 0===e.onProgress)n();else{var o=r.smoothedValue(),i=t.size;o===i&&n(),e.onProgress({bytesSent:o,bytesTotal:i,progress:Math.round(o/i*100)})}},S(function(){var i={path:e.path,metadata:e.metadata,mime:tl(t.type),originalFileName:t.name,protocol:"1.1",size:t.size,tags:e.tags};return ts("Initiating file upload. Params = ".concat(JSON.stringify(i))),k((0,o.beginMultipartUpload)(ta(),F,i),function(e){var i,u,c=tu(e);ts("Initiated file upload. Metadata = ".concat(JSON.stringify(c)));var a=(i=0,function(){if(i!==c.uploadParts.count-1)return++i}),l=[c.uploadParts.first],s=S(function(t){var e=l.pop();if(void 0!==e)return ts("Dequeued part ".concat(e.uploadPartIndex,"."),t),e;var n=a();if(void 0===n){ts("No parts remaining.",t);return}return ts("Fetching metadata for part ".concat(n,"."),t),k((0,o.getUploadPart)(ta(),F,c.uploadId,n),tu)}),f=[];return k(Promise.all(((function(t){if(Array.isArray(t))return g(t)})(u=[,,,,,].keys())||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(u)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}}(u)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return k(function e(o){return k(s(o),function(i){return I(function(){if(void 0!==i){var u=0;return k(Y(t,i,function(t){var e=t.bytesSent;void 0===f[o]?f[o]=e:(f[o]-=u,f[o]+=e),u=e;var n=f.reduce(function(t,e){return t+e});r.setValue(n)},n,o),function(){return w(e(o))})}})})}(e))})),function(){var e=Object.assign({accountId:F,file:t},c.file);return ts("File upload completed."),e})})}))}),Q=S(function(t,e,n,r){var o=new XMLHttpRequest,i=!0;return r(function(){i&&o.abort()}),b(function(){return k(new Promise(function(r,i){o.upload.addEventListener("progress",function(t){t.lengthComputable&&n({bytesSent:t.loaded,bytesTotal:t.total})},!1),o.addEventListener("load",function(){if(n({bytesSent:e.size,bytesTotal:e.size}),2===Math.floor(o.status/100)){var t=o.getResponseHeader("etag");null==t?i(Error("File upload error: no etag header in upload response.")):r({etag:t})}else i(Error("File upload error: status code ".concat(o.status)))}),o.onabort=function(){return i(Error("File upload cancelled."))},o.onerror=function(){return i(Error("File upload error."))},o.ontimeout=function(){return i(Error("File upload timeout."))},o.open("PUT",t),o.send(e)}))},function(t,e){return i=!1,m(t,e)})}),Y=S(function(t,e,n,r,i){var u=-1===e.range.inclusiveEnd?new Blob:t.slice(e.range.inclusiveStart,e.range.inclusiveEnd+1);return ts("Uploading part ".concat(e.uploadPartIndex,"."),i),k(Q(e.uploadUrl,u,n,r),function(t){var n=t.etag;return k((0,o.completeUploadPart)(ta(),F,e.uploadId,e.uploadPartIndex,{etag:n}),function(t){tu(t),ts("Uploaded part ".concat(e.uploadPartIndex,"."),i)})})}),X=S(function(t,e,n){var r,o=new Promise(function(t){r=t}),i=!0,u=function(){i&&(r(),clearInterval(c),i=!1)},c=setInterval(function(){return e(u)},t);return b(function(){return T(n,function(t){return k(o,function(){return t})})},function(t,e){return u(),m(t,e)})}),Z=S(function(){return w(ti(z,{},!0))}),tt=S(function(t,e){var n=te();return I(function(){return n!==K?w(t(n)):T(e,P,void 0)})}),te=function(){var t="uploadJsAuthInstance",e=window[t];return void 0===e&&(e=K,window[t]=K),e},tn=S(function(t,e,n){return function(t){if(t&&t.then)return t.then(P)}(E(function(){return w(M.safe(S(function(){if(n.isActive)return T(e,function(r){return k(to(t,r),function(r){return k(tr(z,{},{accessToken:r},!0),function(r){var o=r.ttlSeconds-20;o<10&&tp("JWT expiration is too short: waiting for ".concat(10," seconds before refreshing.")),n.accessToken=r.accessToken,n.accessTokenRefreshHandle=window.setTimeout(function(){tn(t,e,n).then(function(){},function(t){return tf("Permanent error when refreshing access token: ".concat(t))})},1e3*Math.min(2147483,Math.max(10,o)))})})})})))},function(r){return tf("Error when refreshing access token: ".concat(r)),k(new Promise(function(t){return setTimeout(t,5e3)}),function(){return w(tn(t,e,n))})}))}),tr=S(function(t,e,n,r){return k(tc({method:"PUT",path:t,headers:e,body:n},r),function(t){return k(tu(t))})}),to=S(function(t,e){var n="Your auth API endpoint";return k(tc({method:"GET",path:t,headers:e},!1),function(t){if(!t.ok)throw Error("".concat(A).concat(n," returned a failed response. Please ensure the endpoint's status code is 200."));var e=t.body;if("string"!=typeof e)throw Error("".concat(A).concat(n," returned an unsupported response. Please ensure: 1) 'Content-Type: text/plain' is in the HTTP response headers 2) the status code is 200."));if(0===e.length)throw Error("".concat(A).concat(n," returned an empty string. Please return a valid JWT instead."));if(e.trim().length!==e.length)throw Error("".concat(A).concat(n," returned whitespace around the JWT, please remove it."));return e})}),ti=S(function(t,e,n){return k(tc({method:"DELETE",path:t,headers:e},n),function(t){tu(t)})}),tu=function(t){if(t.ok)return t.body;var e,n=t.body;if("string"==typeof(null===(e=null==n?void 0:n.error)||void 0===e?void 0:e.code))throw new _(n);throw Error("".concat(A,"Network error. If problem persists, and your network connectivity is healthy, please contact support@bytescale.com and provide: (a) time of failed request in UTC (b) screenshot of failed network response body (c) screenshot of failed network response header (d) browser + version."))},tc=S(function(t,e){return(0,o.request)({BASE:t.path,WITH_CREDENTIALS:e},Object.assign(Object.assign({},t),{path:""}))}),ta=function(){var e={BASE:W,WITH_CREDENTIALS:!0};B&&(e.USERNAME="apikey",e.PASSWORD=t.apiKey);var n=null==N?void 0:N.accessToken;return(void 0!==D||void 0!==n)&&(e.HEADERS=S(function(){return k(void 0===D?{}:D(),function(t){var e=null==N?void 0:N.accessToken;return Object.assign(Object.assign({},t),void 0===e?{}:{"authorization-token":e})},void 0===D)})),e},tl=function(t){var e=t.toLowerCase();return/^[a-z0-9]+\/[a-z0-9+\-._]+(?:;[^=]+=[^;]+)*$/.test(e)?e:void 0},ts=function(t,e){L&&console.log("".concat(A).concat(t).concat(void 0!==e?" (Worker ".concat(e,")"):""))},tf=function(t){console.error("".concat(A).concat(t))},tp=function(t){console.warn("".concat(A).concat(t))};return K}}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}return r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r("./src/index.ts")}()},3967:function(t,e){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=i(t,function(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return o.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)r.call(t,n)&&t[n]&&(e=i(e,n));return e}(n)))}return t}function i(t,e){return e?t?t+" "+e:t+e:t}t.exports?(o.default=o,t.exports=o):void 0!==(n=(function(){return o}).apply(e,[]))&&(t.exports=n)}()}}]);